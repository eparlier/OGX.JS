if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Iceberg=function(e){"use strict";function i(e){e?f.on(x,function(e){e=c(e),p=M.x=e.pageX,M.y=e.pageY+f.parent(0).scrollTop(),i(!1),t(!0),r(!0)}):f.off(x)}function t(e){e?f.on(l,function(){t(!1),r(!1),i(!0)}):f.off(l)}function r(e){e?(b=0,o(!0),f.on(v,function(e){e=c(e),w=Math.abs(e.pageX-M.x),b=e.pageX-M.x>0?1:-1})):(o(!1),f.off(v))}function o(e){e?u=setInterval(n,50):clearInterval(u)}function n(){D=!1,w>G.minX&&(b<0?(m=OGX.Iceberg.SWIPE_LEFT,"main"===S&&G.right?(D=!0,p=O,G.left&&(p+=I),S="right"):"left"===S&&(D=!0,p=I,S="main")):b>0&&(m=OGX.Iceberg.SWIPE_RIGHT,"main"===S&&G.left?(D=!0,p=0,S="left"):"right"===S&&(D=!0,p=0,G.left&&(p=I*-1),S="main")),D&&(r(!1),g(!0),p*=b,f.addClass("ogx_iceberg_views_anim"),f.css({transform:"translate3D("+p+"px, 0px, 0px)"}),E.el.trigger(OGX.Iceberg.SWIPE,S),E.el.trigger(m,S)))}function g(e){e?f.on("transitionend",function(){g(!1),f.removeClass("ogx_iceberg_views_anim")}):f.off("transitionend")}function c(e){return e.hasOwnProperty("originalEvent")?e.originalEvent.changedTouches[0]:e}function a(e,i){var t;return i.indexOf("%")!==-1?(t=i.split("%"),t=parseInt(t[0]),t=Math.round(t*G[e]/100)):(t=i.split("px"),t=parseInt(t[0])),t}function s(){var e,i={},t=G.width;G.left&&(I="object"!=typeof G.left?a("width",G.left):a("width",G.left.width),t+=I),G.right&&(O="object"!=typeof G.right?a("width",G.right):a("width",G.right.width),t+=O),X=(new Date).getTime()+Math.round(1e3*Math.random()),$(G.container).html('<div class="ogx_iceberg_views ogx_hw" data-ogx="'+X+'" style="width:'+Math.round(t)+'px;"></div>'),f=$(G.container).find(".ogx_iceberg_views:first"),G.left&&(e=I,f.append('<div class="ogx_iceberg_view_left ogx_view ogx_iceberg_view" style="width:'+e+"px; min-height:"+G.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+G.width+'px;"></div></div>'),f.css({transform:"translate3D("+-e+"px, 0px, 0px)"})),f.append('<div class="ogx_iceberg_view_main ogx_view ogx_iceberg_view" style="width:'+G.width+"px; height:"+G.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+G.width+'px;"></div></div>'),G.right&&(e=O,f.append('<div class="ogx_iceberg_view_right ogx_view ogx_iceberg_view" style="width:'+e+"px; height:"+G.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+G.width+'px;"></div></div>')),G.core&&(G.left&&(G.left.container='.ogx_iceberg_views[data-ogx="'+X+'"] .ogx_iceberg_view_left:first',G.core.addToStage(G.left)),G.main&&(G.main.container='.ogx_iceberg_views[data-ogx="'+X+'"] .ogx_iceberg_view_main:first',G.core.addToStage(G.main)),G.right&&(G.right.container='.ogx_iceberg_views[data-ogx="'+X+'"] .ogx_iceberg_view_right:first',G.core.addToStage(G.right))),setTimeout(function(){$(G.container).trigger(OGX.Iceberg.READY,i)},G.init_delay)}function _(){switch(G.mode){case OGX.Iceberg.MODE_MOBILE:x="touchstart",l="touchend",v="touchmove";break;case OGX.Iceberg.MODE_DESKTOP:x="mousedown",l="mouseup",v="mousemove"}}function d(){for(var e in y)G.hasOwnProperty(e)||(G[e]=y[e]);G.width=Math.round($(G.container).innerWidth()),G.height=$(G.container).innerHeight(),E.el=$(G.container)}function h(){d(),_(),s(),i(!0)}var f,x,l,v,w,b,p,u,m,I,O,X,E=this,G=e,y={init_delay:200,left:!1,main:!1,right:!1,mode:OGX.Iceberg.MODE_MOBILE,minX:150,maxY:5,core:null},S="main",M={},D=!1;this.el=null,this.destroy=function(){i(!1),t(!1),r(!1),g(!1),G.core&&(G.left&&G.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+X+'"] .ogx_iceberg_view_left:first'),G.main&&G.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+X+'"] .ogx_iceberg_view_main:first'),G.right&&G.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+X+'"] .ogx_iceberg_view_right:first'))},h()},OGX.Iceberg=function(e){"use strict";return new OGX.prototype.Iceberg(e)},OGX.Iceberg.READY="IcebergReady",OGX.Iceberg.SWIPE="IcebergSwipe",OGX.Iceberg.SWIPE_LEFT="IcebergSwipeLeft",OGX.Iceberg.SWIPE_RIGHT="IcebergSwipeRight",OGX.Iceberg.MODE_MOBILE="modeMobile",OGX.Iceberg.MODE_DESKTOP="modeDesktop";