if(void 0===OGX)var OGX=function(){};OGX.Iceberg=function(e){"use strict";var i,t,n,r,o,a,g,c,h,d,s,p,_,f,l,w=this,v=e,x={init_delay:200,left:!1,main:!1,right:!1,minX:150,maxY:5},m="main",b={},u="mousedown",I="mouseup",y="mousemove",O=!1;function X(e){e?i.on(u,E):i.off(u,E)}function E(e){e=R(e),r=b.x=e.pageX,b.y=e.pageY+i.parent(0).scrollTop(),X(!1),G(!0),P(!0)}function G(e){e?i.on(I,S):i.off(I,S)}function S(){G(!1),P(!1),X(!0)}function P(e){e?(M(!(n=0)),i.on(y,T)):(M(!1),i.off(y,T))}function T(e){e=R(e),t=Math.abs(e.pageX-b.x),n=0<e.pageX-b.x?1:-1}function M(e){e?o=setInterval(W,50):clearInterval(o)}function W(){O=!1,t>v.minX&&(n<0?(a=OGX.Iceberg.SWIPE_LEFT,"main"===m&&v.right?(O=!0,r=c,v.left&&(r+=g),m="right"):"left"===m&&(O=!0,r=g,m="main")):0<n&&(a=OGX.Iceberg.SWIPE_RIGHT,"main"===m&&v.left?(O=!0,r=0,m="left"):"right"===m&&(O=!0,r=0,v.left&&(r=-1*g),m="main")),O&&(P(!1),A(!0),r*=n,i.addClass("ogx_iceberg_views_anim"),i.css({transform:"translate3D("+r+"px, 0px, 0px)"}),w.el.trigger(OGX.Iceberg.SWIPE,m),w.el.trigger(a,m)))}function A(e){e?i.on("transitionend",function(){A(!1),i.removeClass("ogx_iceberg_views_anim")}):i.off("transitionend")}function R(e){return e.hasOwnProperty("originalEvent")&&void 0!==e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e}function D(e,i){var t;return-1!==i.indexOf("%")?(t=i.split("%"),t=parseInt(t[0]),t=Math.round(t*v[e]/100)):(t=i.split("px"),t=parseInt(t[0])),t}this._NAME_=OGX.Iceberg.NAME,this.el=null,this.destroy=function(){X(!1),G(!1),P(!1),A(!1),"object"==typeof app&&app.hasOwnProperty("name")&&"ogxApp"===app.name&&(v.left&&app.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_left:first'),v.main&&app.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_main:first'),v.right&&app.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_right:first'))},function(){for(var e in x)v.hasOwnProperty(e)||(v[e]=x[e]);v.width=Math.round($(v.container).innerWidth()),v.height=$(v.container).innerHeight(),w.el=$(v.container),void 0!==window.ontouchstart&&(u="touchstart",y="touchmove",I="touchend")}(),s={},p=v.width,l=f=_="",v.left&&("object"!=typeof v.left?g=D("width",v.left):(g=D("width",v.left.width),v.left.hasOwnProperty("html")&&"undefined"==typeof app&&(l=v.left.html)),p+=g),v.main&&"undefined"==typeof app&&"object"==typeof v.main&&v.main.hasOwnProperty("html")&&(f=v.main.html),v.right&&("object"!=typeof v.right?c=D("width",v.right):(c=D("width",v.right.width),v.right.hasOwnProperty("html")&&"undefined"==typeof app&&(_=v.right.html)),p+=c),h=(new Date).getTime()+Math.round(1e3*Math.random()),$(v.container).html('<div class="ogx_iceberg_views ogx_hw" data-ogx="'+h+'" style="width:'+Math.round(p)+'px;"></div>'),i=$(v.container).find(".ogx_iceberg_views:first"),v.left&&(d=g,i.append('<div class="ogx_iceberg_view_left ogx_view ogx_iceberg_view" style="width:'+d+"px; min-height:"+v.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+v.width+'px;">'+l+"</div></div>"),i.css({transform:"translate3D("+-d+"px, 0px, 0px)"})),i.append('<div class="ogx_iceberg_view_main ogx_view ogx_iceberg_view" style="width:'+v.width+"px; height:"+v.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+v.width+'px;">'+f+"</div></div>"),v.right&&(d=c,i.append('<div class="ogx_iceberg_view_right ogx_view ogx_iceberg_view" style="width:'+d+"px; height:"+v.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+v.width+'px;">'+_+"</div></div>")),"undefined"!=typeof app&&(v.left&&(v.left.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_left:first',app.addToStage(v.left)),v.main&&(v.main.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_main:first',app.addToStage(v.main)),v.right&&(v.right.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_right:first',app.addToStage(v.right))),setTimeout(function(){$(v.container).trigger(OGX.Iceberg.READY,s)},v.init_delay),X(!0)},OGX.Iceberg.NAME="OgxIceberg",OGX.Iceberg.READY="IcebergReady",OGX.Iceberg.SWIPE="IcebergSwipe",OGX.Iceberg.SWIPE_LEFT="IcebergSwipeLeft",OGX.Iceberg.SWIPE_RIGHT="IcebergSwipeRight";