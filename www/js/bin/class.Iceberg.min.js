if(void 0===OGX)var OGX=function(){};OGX.Iceberg=function(e){"use strict";var i,t,r,o,n,g,a,c,_,s,d,h,f,x,l,v=this,w=e,b={init_delay:200,left:!1,main:!1,right:!1,mode:OGX.Iceberg.MODE_MOBILE,minX:150,maxY:5,core:null},p="main",m={},u=!1;function I(e){e?i.on(t,function(e){e=y(e),a=m.x=e.pageX,m.y=e.pageY+i.parent(0).scrollTop(),I(!1),O(!0),E(!0)}):i.off(t)}function O(e){e?i.on(r,function(){O(!1),E(!1),I(!0)}):i.off(r)}function E(e){e?(X(!(g=0)),i.on(o,function(e){e=y(e),n=Math.abs(e.pageX-m.x),g=0<e.pageX-m.x?1:-1})):(X(!1),i.off(o))}function X(e){e?c=setInterval(G,50):clearInterval(c)}function G(){u=!1,n>w.minX&&(g<0?(_=OGX.Iceberg.SWIPE_LEFT,"main"===p&&w.right?(u=!0,a=d,w.left&&(a+=s),p="right"):"left"===p&&(u=!0,a=s,p="main")):0<g&&(_=OGX.Iceberg.SWIPE_RIGHT,"main"===p&&w.left?(u=!0,a=0,p="left"):"right"===p&&(u=!0,a=0,w.left&&(a=-1*s),p="main")),u&&(E(!1),S(!0),a*=g,i.addClass("ogx_iceberg_views_anim"),i.css({transform:"translate3D("+a+"px, 0px, 0px)"}),v.el.trigger(OGX.Iceberg.SWIPE,p),v.el.trigger(_,p)))}function S(e){e?i.on("transitionend",function(){S(!1),i.removeClass("ogx_iceberg_views_anim")}):i.off("transitionend")}function y(e){return e.hasOwnProperty("originalEvent")?e.originalEvent.changedTouches[0]:e}function M(e,i){var t;return-1!==i.indexOf("%")?(t=i.split("%"),t=parseInt(t[0]),t=Math.round(t*w[e]/100)):(t=i.split("px"),t=parseInt(t[0])),t}this.el=null,this.destroy=function(){I(!1),O(!1),E(!1),S(!1),w.core&&(w.left&&w.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_left:first'),w.main&&w.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_main:first'),w.right&&w.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_right:first'))},function(){for(var e in b)w.hasOwnProperty(e)||(w[e]=b[e]);w.width=Math.round($(w.container).innerWidth()),w.height=$(w.container).innerHeight(),v.el=$(w.container)}(),function(){switch(w.mode){case OGX.Iceberg.MODE_MOBILE:t="touchstart",r="touchend",o="touchmove";break;case OGX.Iceberg.MODE_DESKTOP:t="mousedown",r="mouseup",o="mousemove"}}(),x={},l=w.width,w.left&&(l+=s="object"!=typeof w.left?M("width",w.left):M("width",w.left.width)),w.right&&(l+=d="object"!=typeof w.right?M("width",w.right):M("width",w.right.width)),h=(new Date).getTime()+Math.round(1e3*Math.random()),$(w.container).html('<div class="ogx_iceberg_views ogx_hw" data-ogx="'+h+'" style="width:'+Math.round(l)+'px;"></div>'),i=$(w.container).find(".ogx_iceberg_views:first"),w.left&&(f=s,i.append('<div class="ogx_iceberg_view_left ogx_view ogx_iceberg_view" style="width:'+f+"px; min-height:"+w.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+w.width+'px;"></div></div>'),i.css({transform:"translate3D("+-f+"px, 0px, 0px)"})),i.append('<div class="ogx_iceberg_view_main ogx_view ogx_iceberg_view" style="width:'+w.width+"px; height:"+w.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+w.width+'px;"></div></div>'),w.right&&(f=d,i.append('<div class="ogx_iceberg_view_right ogx_view ogx_iceberg_view" style="width:'+f+"px; height:"+w.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+w.width+'px;"></div></div>')),w.core&&(w.left&&(w.left.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_left:first',w.core.addToStage(w.left)),w.main&&(w.main.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_main:first',w.core.addToStage(w.main)),w.right&&(w.right.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_right:first',w.core.addToStage(w.right))),setTimeout(function(){$(w.container).trigger(OGX.Iceberg.READY,x)},w.init_delay),I(!0)},OGX.Iceberg.READY="IcebergReady",OGX.Iceberg.SWIPE="IcebergSwipe",OGX.Iceberg.SWIPE_LEFT="IcebergSwipeLeft",OGX.Iceberg.SWIPE_RIGHT="IcebergSwipeRight",OGX.Iceberg.MODE_MOBILE="modeMobile",OGX.Iceberg.MODE_DESKTOP="modeDesktop";