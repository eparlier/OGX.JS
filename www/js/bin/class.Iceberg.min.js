if(void 0===OGX)var OGX=function(){};OGX.Iceberg=function(e){"use strict";var i,t,r,o,n,g,a,c,s,_,h,d,v=this,f=e,x={init_delay:200,left:!1,main:!1,right:!1,minX:150,maxY:5,core:null},l="main",w={},b="mousedown",p="mouseup",m="mousemove",u=!1;function I(e){e?i.on(b,function(e){e=S(e),o=w.x=e.pageX,w.y=e.pageY+i.parent(0).scrollTop(),I(!1),X(!0),O(!0)}):i.off(b)}function X(e){e?i.on(p,function(){X(!1),O(!1),I(!0)}):i.off(p)}function O(e){e?(y(!(r=0)),i.on(m,function(e){e=S(e),t=Math.abs(e.pageX-w.x),r=0<e.pageX-w.x?1:-1})):(y(!1),i.off(m))}function y(e){e?n=setInterval(E,50):clearInterval(n)}function E(){u=!1,t>f.minX&&(r<0?(g=OGX.Iceberg.SWIPE_LEFT,"main"===l&&f.right?(u=!0,o=c,f.left&&(o+=a),l="right"):"left"===l&&(u=!0,o=a,l="main")):0<r&&(g=OGX.Iceberg.SWIPE_RIGHT,"main"===l&&f.left?(u=!0,o=0,l="left"):"right"===l&&(u=!0,o=0,f.left&&(o=-1*a),l="main")),u&&(O(!1),G(!0),o*=r,i.addClass("ogx_iceberg_views_anim"),i.css({transform:"translate3D("+o+"px, 0px, 0px)"}),v.el.trigger(OGX.Iceberg.SWIPE,l),v.el.trigger(g,l)))}function G(e){e?i.on("transitionend",function(){G(!1),i.removeClass("ogx_iceberg_views_anim")}):i.off("transitionend")}function S(e){return e.hasOwnProperty("originalEvent")&&void 0!==e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e}function T(e,i){var t;return-1!==i.indexOf("%")?(t=i.split("%"),t=parseInt(t[0]),t=Math.round(t*f[e]/100)):(t=i.split("px"),t=parseInt(t[0])),t}this._NAME_=OGX.Iceberg.NAME,this.el=null,this.destroy=function(){I(!1),X(!1),O(!1),G(!1),f.core&&(f.left&&f.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+s+'"] .ogx_iceberg_view_left:first'),f.main&&f.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+s+'"] .ogx_iceberg_view_main:first'),f.right&&f.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+s+'"] .ogx_iceberg_view_right:first'))},function(){for(var e in x)f.hasOwnProperty(e)||(f[e]=x[e]);f.width=Math.round($(f.container).innerWidth()),f.height=$(f.container).innerHeight(),v.el=$(f.container),void 0!==window.ontouchstart&&(b="touchstart",m="touchmove",p="touchend")}(),h={},d=f.width,f.left&&(d+=a="object"!=typeof f.left?T("width",f.left):T("width",f.left.width)),f.right&&(d+=c="object"!=typeof f.right?T("width",f.right):T("width",f.right.width)),s=(new Date).getTime()+Math.round(1e3*Math.random()),$(f.container).html('<div class="ogx_iceberg_views ogx_hw" data-ogx="'+s+'" style="width:'+Math.round(d)+'px;"></div>'),i=$(f.container).find(".ogx_iceberg_views:first"),f.left&&(_=a,i.append('<div class="ogx_iceberg_view_left ogx_view ogx_iceberg_view" style="width:'+_+"px; min-height:"+f.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+f.width+'px;"></div></div>'),i.css({transform:"translate3D("+-_+"px, 0px, 0px)"})),i.append('<div class="ogx_iceberg_view_main ogx_view ogx_iceberg_view" style="width:'+f.width+"px; height:"+f.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+f.width+'px;"></div></div>'),f.right&&(_=c,i.append('<div class="ogx_iceberg_view_right ogx_view ogx_iceberg_view" style="width:'+_+"px; height:"+f.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+f.width+'px;"></div></div>')),f.core&&(f.left&&(f.left.container='.ogx_iceberg_views[data-ogx="'+s+'"] .ogx_iceberg_view_left:first',f.core.addToStage(f.left)),f.main&&(f.main.container='.ogx_iceberg_views[data-ogx="'+s+'"] .ogx_iceberg_view_main:first',f.core.addToStage(f.main)),f.right&&(f.right.container='.ogx_iceberg_views[data-ogx="'+s+'"] .ogx_iceberg_view_right:first',f.core.addToStage(f.right))),setTimeout(function(){$(f.container).trigger(OGX.Iceberg.READY,h)},f.init_delay),I(!0)},OGX.Iceberg.NAME="OgxIceberg",OGX.Iceberg.READY="IcebergReady",OGX.Iceberg.SWIPE="IcebergSwipe",OGX.Iceberg.SWIPE_LEFT="IcebergSwipeLeft",OGX.Iceberg.SWIPE_RIGHT="IcebergSwipeRight";