if(void 0===OGX)var OGX=function(){};OGX.Iceberg=function(e){"use strict";var i,t,r,o,n,g,a,c,h,s,_,d,l,f,v,w=this,x=e,m={init_delay:200,left:!1,main:!1,right:!1,minX:150,maxY:5,core:null},b="main",p={},u="mousedown",I="mouseup",y="mousemove",O=!1;function X(e){e?i.on(u,E):i.off(u,E)}function E(e){e=A(e),o=p.x=e.pageX,p.y=e.pageY+i.parent(0).scrollTop(),X(!1),G(!0),T(!0)}function G(e){e?i.on(I,S):i.off(I,S)}function S(){G(!1),T(!1),X(!0)}function T(e){e?(M(!(r=0)),i.on(y,P)):(M(!1),i.off(y,P))}function P(e){e=A(e),t=Math.abs(e.pageX-p.x),r=0<e.pageX-p.x?1:-1}function M(e){e?n=setInterval(W,50):clearInterval(n)}function W(){O=!1,t>x.minX&&(r<0?(g=OGX.Iceberg.SWIPE_LEFT,"main"===b&&x.right?(O=!0,o=c,x.left&&(o+=a),b="right"):"left"===b&&(O=!0,o=a,b="main")):0<r&&(g=OGX.Iceberg.SWIPE_RIGHT,"main"===b&&x.left?(O=!0,o=0,b="left"):"right"===b&&(O=!0,o=0,x.left&&(o=-1*a),b="main")),O&&(T(!1),R(!0),o*=r,i.addClass("ogx_iceberg_views_anim"),i.css({transform:"translate3D("+o+"px, 0px, 0px)"}),w.el.trigger(OGX.Iceberg.SWIPE,b),w.el.trigger(g,b)))}function R(e){e?i.on("transitionend",function(){R(!1),i.removeClass("ogx_iceberg_views_anim")}):i.off("transitionend")}function A(e){return e.hasOwnProperty("originalEvent")&&void 0!==e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e}function D(e,i){var t;return-1!==i.indexOf("%")?(t=i.split("%"),t=parseInt(t[0]),t=Math.round(t*x[e]/100)):(t=i.split("px"),t=parseInt(t[0])),t}this._NAME_=OGX.Iceberg.NAME,this.el=null,this.destroy=function(){X(!1),G(!1),T(!1),R(!1),x.core&&(x.left&&x.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_left:first'),x.main&&x.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_main:first'),x.right&&x.core.removeFromStage('.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_right:first'))},function(){for(var e in m)x.hasOwnProperty(e)||(x[e]=m[e]);x.width=Math.round($(x.container).innerWidth()),x.height=$(x.container).innerHeight(),w.el=$(x.container),void 0!==window.ontouchstart&&(u="touchstart",y="touchmove",I="touchend")}(),_={},d=x.width,v=f=l="",x.left&&("object"!=typeof x.left?a=D("width",x.left):(a=D("width",x.left.width),x.left.hasOwnProperty("html")&&!x.core&&(v=x.left.html)),d+=a),x.main&&!x.core&&"object"==typeof x.main&&x.main.hasOwnProperty("html")&&(f=x.main.html),x.right&&("object"!=typeof x.right?c=D("width",x.right):(c=D("width",x.right.width),x.right.hasOwnProperty("html")&&!x.core&&(l=x.right.html)),d+=c),h=(new Date).getTime()+Math.round(1e3*Math.random()),$(x.container).html('<div class="ogx_iceberg_views ogx_hw" data-ogx="'+h+'" style="width:'+Math.round(d)+'px;"></div>'),i=$(x.container).find(".ogx_iceberg_views:first"),x.left&&(s=a,i.append('<div class="ogx_iceberg_view_left ogx_view ogx_iceberg_view" style="width:'+s+"px; min-height:"+x.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+x.width+'px;">'+v+"</div></div>"),i.css({transform:"translate3D("+-s+"px, 0px, 0px)"})),i.append('<div class="ogx_iceberg_view_main ogx_view ogx_iceberg_view" style="width:'+x.width+"px; height:"+x.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+x.width+'px;">'+f+"</div></div>"),x.right&&(s=c,i.append('<div class="ogx_iceberg_view_right ogx_view ogx_iceberg_view" style="width:'+s+"px; height:"+x.height+'px;"><div class="ogx_iceberg_view_container" style="width:'+x.width+'px;">'+l+"</div></div>")),x.core&&(x.left&&(x.left.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_left:first',x.core.addToStage(x.left)),x.main&&(x.main.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_main:first',x.core.addToStage(x.main)),x.right&&(x.right.container='.ogx_iceberg_views[data-ogx="'+h+'"] .ogx_iceberg_view_right:first',x.core.addToStage(x.right))),setTimeout(function(){$(x.container).trigger(OGX.Iceberg.READY,_)},x.init_delay),X(!0)},OGX.Iceberg.NAME="OgxIceberg",OGX.Iceberg.READY="IcebergReady",OGX.Iceberg.SWIPE="IcebergSwipe",OGX.Iceberg.SWIPE_LEFT="IcebergSwipeLeft",OGX.Iceberg.SWIPE_RIGHT="IcebergSwipeRight";