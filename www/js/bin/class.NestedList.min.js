if(void 0===OGX)var OGX=function(){};OGX.NestedList=function(t){"use strict";var n,e=this,s={scopes:["public"],set_heights_timeout:0,action_timeout:100,render_trigger_timeout:150,enabled:!0},_=t;function i(t){t?n.on("click",".ogx_nested_list_item_head",function(t){var e=$(this).next(),s=$(this).parent(0).index();if(e.removeClass("ogx_nested_list_item_body_anim_in"),e.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=e.data("height");e.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){e.css("max-height",i)},_.action_timeout),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),n.trigger(OGX.NestedList.OPEN,_.data[s])}else{i=e.height();e.data("height",i+"px"),e.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){e.css("max-height","0px")},_.action_timeout),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),n.trigger(OGX.NestedList.CLOSE,_.data[s])}e.on("transitionend",function(){e.off("transitionend"),e.hasClass("ogx_nested_list_item_body_anim_in")?n.trigger(OGX.NestedList.OPENED,_.data[s]):n.trigger(OGX.NestedList.CLOSED,_.data[s])})}):n.off("click",".ogx_nested_list_item_head")}function d(){n.empty();for(var t,e,s="",i=0;i<_.data.length;i++)e="",o(_.data[i])||(e="ogx_nested_list_item_hidden"),t="ogx_nested_list_item_head_open",_.data[i].open||(t="ogx_nested_list_item_head_closed"),s+='<div class="ogx_nested_list_item '+e+'"><div class="ogx_nested_list_item_head '+t+'"><span class="ogx_nested_list_item_title">'+_.data[i].title+'</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">'+_.data[i].body+"</span></div></div>";n.html(s),n.css("display","block"),setTimeout(a,_.set_heights_timeout),setTimeout(function(){n.trigger(OGX.NestedList.RENDER)},_.render_trigger_timeout)}function a(){n.find(".ogx_nested_list_item_body").each(function(t,e){var s=$(this).outerHeight(!0);$(this).data("height",s+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):s&&$(this).css("max-height",s+"px")})}function o(t){if(t.hasOwnProperty("scopes"))for(var e=0;e<t.scopes.length;e++)if(-1!==_.scopes.indexOf(t.scopes[e]))return!0;return!1}this.el=null,this.setScopes=function(t){_.scopes=t,function(){for(var t=0;t<_.data.length;t++)o(_.data[t])?n.children(".ogx_nested_list_item:eq("+t+")").removeClass("ogx_nested_list_item_hidden"):n.children(".ogx_nested_list_item:eq("+t+")").addClass("ogx_nested_list_item_hidden")}()},this.getScopes=function(){return _.scopes},this.updateItem=function(t,e){n.find(".ogx_nested_list_item_content:nth-child("+(t+1)+")").html(e),a()},this.updateHeight=function(t){var e=$(this).outerHeight(!0);n.find(".ogx_nested_list_item_content:eq("+t+")").data("height",e+"px")},this.setData=function(t){_.data=t,d()},this.getData=function(){return _.data},this.enable=function(){_.enabled||i(_.enabled=!0)},this.disable=function(){_.enabled&&i(_.enabled=!1)},this.destroy=function(){_.enabled&&i(!0)},function(){for(var t in s)_.hasOwnProperty(t)||(_[t]=s[t]);e.el=n=$(_.container),n.addClass("ogx_nested_list")}(),d(),_.enabled&&i(!0)},OGX.NestedList.OPEN="nestedListOpen",OGX.NestedList.CLOSE="nestedListClose",OGX.NestedList.OPENED="nestedListOpened",OGX.NestedList.CLOSED="nestedListClosed",OGX.NestedList.RENDER="nestedListRender";