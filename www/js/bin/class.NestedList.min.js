if(void 0===OGX)var OGX=function(){};OGX.NestedList=function(t){"use strict";var n,e=this,s={scopes:["public"],set_heights_timeout:0,action_timeout:100,render_trigger_timeout:150,enabled:!0},d=t,i="mousedown";function _(t){t?n.on(i,".ogx_nested_list_item_head",function(t){var e=$(this).next(),s=$(this).parent(0).index();if(e.removeClass("ogx_nested_list_item_body_anim_in"),e.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=e.data("height");e.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){e.css("max-height",i)},d.action_timeout),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),n.trigger(OGX.NestedList.OPEN,d.data[s])}else{i=e.height();e.data("height",i+"px"),e.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){e.css("max-height","0px")},d.action_timeout),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),n.trigger(OGX.NestedList.CLOSE,d.data[s])}e.on("transitionend",function(){e.off("transitionend"),e.hasClass("ogx_nested_list_item_body_anim_in")?n.trigger(OGX.NestedList.OPENED,d.data[s]):n.trigger(OGX.NestedList.CLOSED,d.data[s])})}):n.off(i,".ogx_nested_list_item_head")}function o(){n.empty();for(var t,e,s="",i=0;i<d.data.length;i++)e="",l(d.data[i])||(e="ogx_nested_list_item_hidden"),t="ogx_nested_list_item_head_open",d.data[i].open||(t="ogx_nested_list_item_head_closed"),s+='<div class="ogx_nested_list_item '+e+'"><div class="ogx_nested_list_item_head '+t+'"><span class="ogx_nested_list_item_title">'+d.data[i].title+'</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">'+d.data[i].body+"</span></div></div>";n.html(s),n.css("display","block"),setTimeout(a,d.set_heights_timeout),setTimeout(function(){n.trigger(OGX.NestedList.RENDER)},d.render_trigger_timeout)}function a(){n.find(".ogx_nested_list_item_body").each(function(t,e){var s=$(this).outerHeight(!0);$(this).data("height",s+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):s&&$(this).css("max-height",s+"px")})}function l(t){if(t.hasOwnProperty("scopes"))for(var e=0;e<t.scopes.length;e++)if(-1!==d.scopes.indexOf(t.scopes[e]))return!0;return!1}this._NAME_=OGX.NestedList.NAME,this.el=null,this.setScopes=function(t){d.scopes=t,function(){for(var t=0;t<d.data.length;t++)l(d.data[t])?n.children(".ogx_nested_list_item:eq("+t+")").removeClass("ogx_nested_list_item_hidden"):n.children(".ogx_nested_list_item:eq("+t+")").addClass("ogx_nested_list_item_hidden")}()},this.getScopes=function(){return d.scopes},this.updateItem=function(t,e){n.find(".ogx_nested_list_item_content:nth-child("+(t+1)+")").html(e),a()},this.updateHeight=function(t){var e=$(this).outerHeight(!0);n.find(".ogx_nested_list_item_content:eq("+t+")").data("height",e+"px")},this.setData=function(t){d.data=t,o()},this.getData=function(){return d.data},this.enable=function(){d.enabled||_(d.enabled=!0)},this.disable=function(){d.enabled&&_(d.enabled=!1)},this.destroy=function(){d.enabled&&_(!0)},function(){for(var t in s)d.hasOwnProperty(t)||(d[t]=s[t]);void 0!==window.ontouchstart&&(i="touchstart"),e.el=n=$(d.container),n.addClass("ogx_nested_list")}(),o(),d.enabled&&_(!0)},OGX.NestedList.NAME="OgxNestedList",OGX.NestedList.OPEN="NestedListOpen",OGX.NestedList.CLOSE="NestedListClose",OGX.NestedList.OPENED="NestedListOpened",OGX.NestedList.CLOSED="NestedListClosed",OGX.NestedList.RENDER="NestedListRender";