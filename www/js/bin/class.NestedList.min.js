if(void 0===OGX)var OGX=function(){};OGX.NestedList=function(t){"use strict";var d,e=this,s={scopes:["public"],set_heights_timeout:0,action_timeout:30,dynamic_timeout:30,render_trigger_timeout:30,enabled:!0,mode:OGX.NestedList.MODE_STATIC,template:'<div class="ogx_nested_list_item {{$viz}}"><div class="ogx_nested_list_item_head {{$css}}"><span class="ogx_nested_list_item_title">{{$title}}</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">{{$body}}</span></div></div>',display:null,key:null,list_mode:null},n=t,i=[],o="mousedown";function _(t){t?d.on(o,".ogx_nested_list_item_head",function(t){var e=$(this).next(),s=$(this).parent(0).index();if(e.removeClass("ogx_nested_list_item_body_anim_in"),e.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=e.data("height");e.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){e.css("max-height",i)},n.action_timeout),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),d.trigger(OGX.NestedList.OPEN,n.data[s])}else{i=e.height();e.data("height",i+"px"),e.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){e.css("max-height","0px")},n.action_timeout),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),d.trigger(OGX.NestedList.CLOSE,n.data[s])}e.on("transitionend",function(){e.off("transitionend"),e.hasClass("ogx_nested_list_item_body_anim_in")?d.trigger(OGX.NestedList.OPENED,n.data[s]):d.trigger(OGX.NestedList.CLOSED,n.data[s])})}):d.off(o,".ogx_nested_list_item_head")}function a(){d.empty();for(var t="",e=0;e<n.data.length;e++)n.data[e].viz="",n.data[e].css="",c(n.data[e])||(n.data[e].viz="ogx_nested_list_item_hidden"),n.data[e].css="ogx_nested_list_item_head_open",n.data[e].open||(n.data[e].css="ogx_nested_list_item_head_closed"),n.mode===OGX.NestedList.MODE_STATIC?n.data[e].body=n.data[e].body:n.data[e].body="",t+=OGX.Templater.templatize(n.data[e],n.template);d.html(t),n.mode===OGX.NestedList.MODE_DYNAMIC?setTimeout(function(){!function(){for(var t,e=0;e<n.data.length;e++)t=d.children(".ogx_nested_list_item:eq("+e+")").children(".ogx_nested_list_item_body:first").children(".ogx_nested_list_item_content:first"),i[e]=new OGX.DynamicList({container:t[0],display:n.display,key:n.key,mode:n.list_mode,list:n.data[e].items})}(),d.css("display","block"),setTimeout(l,n.set_heights_timeout),setTimeout(function(){d.trigger(OGX.NestedList.RENDER)},n.render_trigger_timeout)},n.dynamic_timeout):(d.css("display","block"),setTimeout(l,n.set_heights_timeout),setTimeout(function(){d.trigger(OGX.NestedList.RENDER)},n.render_trigger_timeout))}function l(){d.find(".ogx_nested_list_item_body").each(function(t,e){var s=$(this).outerHeight(!0);$(this).data("height",s+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):s&&$(this).css("max-height",s+"px")})}function c(t){if(t.hasOwnProperty("scopes"))for(var e=0;e<t.scopes.length;e++)if(-1!==n.scopes.indexOf(t.scopes[e]))return!0;return!1}this._NAME_=OGX.NestedList.NAME,this.el=null,this.setScopes=function(t){n.scopes=t,function(){for(var t=0;t<n.data.length;t++)c(n.data[t])?d.children(".ogx_nested_list_item:eq("+t+")").removeClass("ogx_nested_list_item_hidden"):d.children(".ogx_nested_list_item:eq("+t+")").addClass("ogx_nested_list_item_hidden")}()},this.getScopes=function(){return n.scopes},this.updateItem=function(t,e){d.find(".ogx_nested_list_item_content:nth-child("+(t+1)+")").html(e),l()},this.updateHeight=function(t){var e=$(this).outerHeight(!0);d.find(".ogx_nested_list_item_content:eq("+t+")").data("height",e+"px")},this.setData=function(t){n.data=t,a()},this.getData=function(){return n.data},this.enable=function(){n.enabled||_(n.enabled=!0)},this.disable=function(){n.enabled&&_(n.enabled=!1)},this.destroy=function(){n.enabled&&_(!0),function(){for(var t=0;t<i.length;t++)i[t].destroy();i=[]}()},void 0!==OGX.Templater?(function(){for(var t in s)n.hasOwnProperty(t)||(n[t]=s[t]);void 0!==window.ontouchstart&&(o="touchstart"),e.el=d=$(n.container),d.addClass("ogx_nested_list")}(),n.mode!==OGX.NestedList.MODE_DYNAMIC||void 0!==OGX.DynamicList?(n.mode===OGX.NestedList.MODE_DYNAMIC&&null===n.list_mode&&(n.list_mode=OGX.DynamicList.SELECT_MODE_SINGLE),a(),n.enabled&&_(!0)):console.log("%c CRITICAL ERROR - OGX.DynamicList not found! ","background:#222; color: #FF0000")):console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000")},OGX.NestedList.NAME="OgxNestedList",OGX.NestedList.OPEN="NestedListOpen",OGX.NestedList.CLOSE="NestedListClose",OGX.NestedList.OPENED="NestedListOpened",OGX.NestedList.CLOSED="NestedListClosed",OGX.NestedList.RENDER="NestedListRender",OGX.NestedList.MODE_STATIC="NestedListModeStatic",OGX.NestedList.MODE_DYNAMIC="NestedListModeDynamic";