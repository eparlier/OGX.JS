if(void 0===OGX)var OGX=function(){};OGX.StackedTree=function(e){"use strict";var a,l,o,_,f,t=this,s={scopes:["public"],speed:200,enabled:!0},h=e,n="mousedown";function i(e){e?(a.on(n,".ogx_stacked_tree_item",function(){var e=$(this).data("path").split("_"),t=g(e);o=t.label,r(e)?a.trigger(OGX.StackedTree.CHANGE,t):a.trigger(OGX.StackedTree.SELECT,t)}),a.on(n,".ogx_stacked_tree_back",function(){var e=g($(this).data("path").split("_"));p(parseInt($(this).data("lv"))),a.trigger(OGX.StackedTree.CHANGE,e)})):(a.off(n,".ogx_stacked_tree_item"),a.off(n,".ogx_stacked_tree_back"))}function g(e){var t=h.data,a=e.slice();for(a.shift();0<a.length;)t.hasOwnProperty("items")&&(t=t.items[a[0]]),a.shift();return t}function r(e){var t,a;t=1===e.length?h.data:g(e);var s,n=1===(s=_=e).length?0:s.length-1;if(t&&t.hasOwnProperty("items")){0===l.find(".ogx_stacked_tree_level"+n+":first").length&&l.append('<div class="ogx_stacked_tree_level ogx_stacked_tree_level'+n+'" data-lv="'+n+'"></div>'),(a=l.find(".ogx_stacked_tree_level"+n+":first")).empty(),a.css("left",n*f+"px");var i,r="<ul>",c=e.slice();c=c.join("_"),0<n&&(r+='<li data-path="'+c+'" data-lv="'+(n-1)+'" class="ogx_stacked_tree_back"><span class="ogx_stacked_tree_item_label">'+o+"</span></li>");for(var d=0;d<t.items.length;d++)k(t.items[d])&&(i="",(!t.items[d].hasOwnProperty("items")||t.items[d].hasOwnProperty("items")&&0===t.items[d].length)&&(i=" ogx_stacked_tree_end"),r+='<li data-path="'+(c+"_"+d)+'" class="ogx_stacked_tree_item'+i+'"><span class="ogx_stacked_tree_item_label">'+t.items[d].label+"</span></li>");return r+="</ul>",a.html(r),p(n),!0}return!1}function p(e){l.off("transitionend"),l.css("transition","all ."+h.speed/100+"s"),l.css("transform","translateX("+e*f*-1+"px)")}function k(e){if(e.hasOwnProperty("scopes"))for(var t=0;t<e.scopes.length;t++)if(-1!==h.scopes.indexOf(e.scopes[t]))return!0;return!1}this._NAME_=OGX.StackedTree.NAME,this.el=null,this.refresh=function(){f=a.innerWidth(),r(_)},this.setScopes=function(e){h.scopes=e,r([0])},this.setPath=function(e){r(_=e)},this.enable=function(){h.enabled||i(h.enabled=!0)},this.disable=function(){h.enabled&&i(h.enabled=!1)},this.destroy=function(){i(!1)},function(){for(var e in s)h.hasOwnProperty(e)||(h[e]=s[e]);var t=h.data.slice();h.data={items:t}}(),(a=$(h.container)).addClass("ogx_stacked_tree"),a.html('<div class="ogx_stacked_tree_container"></div>'),l=a.find(".ogx_stacked_tree_container:first"),t.el=a,f=a.innerWidth(),r([0]),h.enabled&&i(!0)},OGX.StackedTree.NAME="OgxStackedTree",OGX.StackedTree.CHANGE="StackedTreeChange",OGX.StackedTree.SELECT="StackedTreeSelect";