if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.StackedTree=function(e){"use strict";function t(e){e?(l.on(v,".ogx_stacked_tree_item",function(){var e=$(this).data("path").split("_"),t=a(e);f=t.label;var s=n(e);s?l.trigger(OGX.StackedTree.CHANGE,t):l.trigger(OGX.StackedTree.SELECT,t)}),l.on(v,".ogx_stacked_tree_back",function(){var e=$(this).data("path").split("_"),t=a(e);r(parseInt($(this).data("lv"))),l.trigger(OGX.StackedTree.CHANGE,t)})):(l.off(v,".ogx_stacked_tree_item"),l.off(v,".ogx_stacked_tree_back"))}function a(e){var t=k.data,a=e.slice();for(a.shift();a.length>0;)t.hasOwnProperty("items")&&(t=t.items[a[0]]),a.shift();return t}function s(e){return 1===e.length?0:e.length-1}function n(e){var t,n;t=1===e.length?k.data:a(e),h=e;var c=s(e);if(t&&t.hasOwnProperty("items")){0===_.find(".ogx_stacked_tree_level"+c+":first").length&&_.append('<div class="ogx_stacked_tree_level ogx_stacked_tree_level'+c+'" data-lv="'+c+'"></div>'),n=_.find(".ogx_stacked_tree_level"+c+":first"),n.empty(),n.css("left",c*p+"px");var o,d,l="<ul>",u=e.slice();u=u.join("_"),c>0&&(l+='<li data-path="'+u+'" data-lv="'+(c-1)+'" class="ogx_stacked_tree_back"><span class="ogx_stacked_tree_item_label">'+f+"</span></li>");for(var g=0;g<t.items.length;g++)i(t.items[g])&&(o="",(!t.items[g].hasOwnProperty("items")||t.items[g].hasOwnProperty("items")&&0===t.items[g].length)&&(o=" ogx_stacked_tree_end"),d=u+"_"+g,l+='<li data-path="'+d+'" class="ogx_stacked_tree_item'+o+'"><span class="ogx_stacked_tree_item_label">'+t.items[g].label+"</span></li>");return l+="</ul>",n.html(l),r(c),!0}return!1}function r(e){_.off("transitionend"),_.css("transition","all ."+k.speed/100+"s"),_.css("transform","translateX("+e*p*-1+"px)")}function i(e){if(e.hasOwnProperty("scopes"))for(var t=0;t<e.scopes.length;t++)if(k.scopes.indexOf(e.scopes[t])!==-1)return!0;return!1}function c(){l=$(k.container),l.addClass("ogx_stacked_tree"),l.html('<div class="ogx_stacked_tree_container"></div>'),_=l.find(".ogx_stacked_tree_container:first"),u.el=l,p=l.innerWidth()}function o(){for(var e in g)k.hasOwnProperty(e)||(k[e]=g[e]);var t=k.data.slice();k.data={items:t}}function d(){o(),c(),n([0]),k.enabled&&t(!0)}var l,_,f,h,p,u=this,g={scopes:["public"],speed:200,enabled:!0,mode:OGX.StackedTree.MODE_MOBILE},k=e,v="mousedown";this.el=null,this.refresh=function(){p=l.innerWidth(),n(h)},this.setScopes=function(e){k.scopes=e,n([0])},this.setPath=function(e){h=e,n(h)},this.enable=function(){k.enabled||(k.enabled=!0,t(!0))},this.disable=function(){k.enabled&&(k.enabled=!1,t(!1))},this.destroy=function(){t(!1)},d()},OGX.StackedTree=function(e){"use strict";return new OGX.prototype.StackedTree(e)},OGX.StackedTree.CHANGE="stackedTreeChange",OGX.StackedTree.SELECT="stackedTreeSelect";