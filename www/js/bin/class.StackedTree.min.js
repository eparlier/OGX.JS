if(void 0===OGX)var OGX=function(){};OGX.StackedTree=function(e){"use strict";var a,d,l,_,h,t=this,s={scopes:["public"],speed:200,enabled:!0},f=e,n="mousedown";(new Date).getTime(),Math.round(1e3*Math.random());function i(e){e?(a.on(n,".ogx_stacked_tree_item",function(){var e=$(this).data("path").split("_"),t=g(e);l=t.label,r(e)?a.trigger(OGX.StackedTree.CHANGE,t):a.trigger(OGX.StackedTree.SELECT,t)}),a.on(n,".ogx_stacked_tree_back",function(){var e=g($(this).data("path").split("_"));p(parseInt($(this).data("lv"))),a.trigger(OGX.StackedTree.CHANGE,e)})):(a.off(n,".ogx_stacked_tree_item"),a.off(n,".ogx_stacked_tree_back"))}function g(e){var t=f.data,a=e.slice();for(a.shift();0<a.length;)t.hasOwnProperty("items")&&(t=t.items[a[0]]),a.shift();return t}function r(e){var t,a;t=1===e.length?f.data:g(e);var s,n=1===(s=_=e).length?0:s.length-1;if(t&&t.hasOwnProperty("items")){0===d.find(".ogx_stacked_tree_level"+n+":first").length&&d.append('<div class="ogx_stacked_tree_level ogx_stacked_tree_level'+n+'" data-lv="'+n+'"></div>'),(a=d.find(".ogx_stacked_tree_level"+n+":first")).empty(),a.css("left",n*h+"px");var i,r="<ul>",c=e.slice();c=c.join("_"),0<n&&(r+='<li data-path="'+c+'" data-lv="'+(n-1)+'" class="ogx_stacked_tree_back" data-label="'+l+'"><span class="ogx_stacked_tree_item_label">'+l+"</span></li>");for(var o=0;o<t.items.length;o++)k(t.items[o])&&(i="",(!t.items[o].hasOwnProperty("items")||t.items[o].hasOwnProperty("items")&&0===t.items[o].length)&&(i=" ogx_stacked_tree_end"),r+='<li data-path="'+(c+"_"+o)+'" class="ogx_stacked_tree_item'+i+'" data-label="'+t.items[o].label+'"><span class="ogx_stacked_tree_item_label">'+t.items[o].label+"</span></li>");return r+="</ul>",a.html(r),p(n),!0}return!1}function p(e){d.off("transitionend"),d.css("transition","all ."+f.speed/100+"s"),d.css("transform","translateX("+e*h*-1+"px)")}function k(e){if(e.hasOwnProperty("scopes"))for(var t=0;t<e.scopes.length;t++)if(-1!==f.scopes.indexOf(e.scopes[t]))return!0;return!1}this._NAME_=OGX.StackedTree.NAME,this.el=null,this.refresh=function(){h=a.innerWidth(),r(_)},this.setScopes=function(e){f.scopes=e,r([0])},this.setPath=function(e){r(_=e)},this.enable=function(){f.enabled||i(f.enabled=!0)},this.disable=function(){f.enabled&&i(f.enabled=!1)},this.destroy=function(){i(!1)},function(){for(var e in s)f.hasOwnProperty(e)||(f[e]=s[e]);void 0!==window.ontouchstart&&(n="touchstart");var t=f.data.slice();f.data={items:t}}(),(a=$(f.container)).addClass("ogx_stacked_tree"),a.html('<div class="ogx_stacked_tree_container"></div>'),d=a.find(".ogx_stacked_tree_container:first"),t.el=a,h=a.innerWidth(),r([0]),f.enabled&&i(!0)},OGX.StackedTree.NAME="OgxStackedTree",OGX.StackedTree.CHANGE="StackedTreeChange",OGX.StackedTree.SELECT="StackedTreeSelect";