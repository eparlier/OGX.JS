if(void 0===OGX)var OGX={};OGX.Tabs=function(t){"use strict";var o,i,n=this,r=t,s={min_width:100,max_width:300,add_width:40,editable:!0,enabled:!0,icons:!1,icon_path:"",icon_default:"",tabs:new OGX.List},e=0,c=0,b=!1,d="mousedown",l="mouseup",_="mousemove",h=!1,u=0;function f(){var t=o.width(),a=0;r.editable&&(a=r.add_width);var n=Math.round((t-a)/r.tabs.length);return n<r.min_width&&(n=r.min_width),n>r.max_width&&(n=r.max_width),n}function g(){var t=o.outerHeight()-10,a=f(),n=r.tabs.length*a;r.editable&&(n+=r.add_width);for(var i='<div class="ogx_tabs_container" style="width:'+n+'px;">',s="",e=0;e<r.tabs.length;e++)e===u&&(s="ogx_tabs_tab_active"),i+='<div class="ogx_tabs_tab '+s+'" style="width:'+a+"px; height:"+t+'px;"><div class="ogx_tabs_tab_container">',r.icons&&(i+='<span class="ogx_tabs_tab_icon" style="background-image:url(\''+r.icon_path+"/"+r.tabs[e].icon+"');\"></span>"),i+='<span class="ogx_tabs_tab_label">'+r.tabs[e].label+"</span>",r.editable&&(i+='<span class="ogx_tabs_tab_close"><span></span></span>'),i+="</div></div>",s="";r.editable&&(i+='<div class="ogx_tabs_tab_add" style="width:'+r.add_width+"px; height:"+t+'px;"><span></span></div>'),i+="</div>",o.html(i),h=o.children(".ogx_tabs_container:first").children(".ogx_tabs_tab:eq("+u+")")}function x(){if(e){var t=Math.round(e-i+c),a=o.width(),n=-1*(o.children(".ogx_tabs_container:first").width()-a);0<t&&(t=0),t<n&&(t=n),o.children(".ogx_tabs_container:first").css("transform","translateX("+t+"px)")}}function a(t){t?$("body").on(_,function(t){t=p(t),e=t.pageX}):($("body").off(_),e=0),function t(a){a?(b&&t(!1),b=setInterval(x,10)):(clearInterval(b),b=!1)}(t)}function v(t){t?(o.on("click",".ogx_tabs_tab",function(){h&&h.removeClass("ogx_tabs_tab_active"),$(this).addClass("ogx_tabs_tab_active"),h=$(this),u=h.index(),o.trigger(OGX.Tabs.SELECT,r.tabs[h.index()])}),o.on("click",".ogx_tabs_tab_add",function(){n.addTab({label:"New tab"}),o.trigger(OGX.Tabs.ADD)}),o.on(d,".ogx_tabs_container",function(t){t=p(t),i=t.pageX,c=$(this).position().left,a(!0)}),$("body").on(l,function(t){a(!1)}),o.on("click",".ogx_tabs_tab_close",function(t){return t.preventDefault(),t.stopImmediatePropagation(),o.trigger(OGX.Tabs.CLOSE,{index:u,tab:r.tabs[u]}),n.removeCurrentTab(),function(){var t=f(),a=o.children(".ogx_tabs_container:first"),n=r.tabs.length*t+r.add_width;a.width(n),a.children(".ogx_tabs_tab").width(t-2);var i=a.position().left,s=o.width()-(n+i),e=o.width();i+s<0&&e<n?o.children(".ogx_tabs_container:first").css("transform","translateX("+(i+s)+"px)"):n<=e&&o.children(".ogx_tabs_container:first").css("transform","translateX(0px)")}(),!1})):(o.off("click",".ogx_tabs_tab"),o.off("click",".ogx_tabs_tab_add"),o.off(d,".ogx_tabs_container"),o.off("click",".ogx_tabs_tab_close"),$("body").off(l))}function p(t){return t.hasOwnProperty("originalEvent")&&void 0!==t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}this._NAME_=OGX.Tabs.NAME,this.el=null,this.val=function(t){if(void 0===t)return r.tabs;t.hasOwnProperty("insert")||(t=new OGX.List(t)),r.tabs=t,setTimeout(g,0)},this.enable=function(){r.enabled||(v(!0),r.enabled=!0)},this.disable=function(){r.enabled&&(v(!1),r.enabled=!1)},this.addTab=function(t){r.icons&&(t.hasOwnProperty("icon")||(t.icon=r.icon_default)),r.tabs.push(t),u=r.tabs.length-1,setTimeout(function(){var t,a,n;g(),t=o.width(),a=o.children(".ogx_tabs_container:first"),n=a.width(),t<n&&a.css("transform","translateX("+-1*(n-t)+"px)")},0)},this.addTabAt=function(t,a){r.icons&&(t.hasOwnProperty("icon")||(t.icon=r.icon_default)),r.tabs.insert(t,a),u=a,setTimeout(g,0)},this.removeCurrentTab=function(){h&&this.removeTabAt(u)},this.removeTabAt=function(t){return!!r.tabs.delete(t)&&(o.children(".ogx_tabs_container:first").children(".ogx_tabs_tab:eq("+t+")").remove(),h=null,function(){0<u?u--:u=0;n.selectTabAt(u)}(),!0)},this.selectTabAt=function(t){return h&&(h.removeClass("ogx_tabs_tab_active"),h=null),(h=o.children(".ogx_tabs_container:first").children(".ogx_tabs_tab:eq("+t+")")).addClass("ogx_tabs_tab_active"),u=t,!0},this.selectTab=function(t){h&&h.removeClass("ogx_tabs_tab_active");var a=r.tabs.findIndex("label",t);this.selectTabAt(a.index)},this.getTab=function(){if(h){var t=h.index();return r.tabs[t]}return!1},this.getTabIndex=function(){return h?h.index():-1},this.order=function(t,a){r.list.order(t,a),setTimeout(g,0)},this.destroy=function(){v(!1),a(!1)},void 0!==OGX.List?(function(){for(var t in r||(r={}),s)r.hasOwnProperty(t)||(r[t]=s[t]);r.tabs.hasOwnProperty("insert")||(r.tabs=new OGX.List(r.tabs)),void 0!==window.ontouchstart&&(d="touchstart",l="touchend",_="touchmove");var a=$(r.container).outerHeight();$(r.container).append('<div class="ogx_tabs" style="height:'+a+'px;"></div>'),n.el=o=$(r.container).children(".ogx_tabs:first")}(),setTimeout(g,0),v(!0)):console.log("%c CRITICAL ERROR - OGX.List not found! ","background:#222; color: #FF0000")},OGX.Tabs.NAME="OgxTabs",OGX.Tabs.SELECT="tabsSelect",OGX.Tabs.CLOSE="tabsClose",OGX.Tabs.ADD="tabsAdd";