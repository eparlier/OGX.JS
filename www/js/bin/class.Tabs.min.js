if(void 0===OGX)var OGX={};OGX.Tabs=function(t){"use strict";var o,s,n=this,r=t,e={min_width:100,max_width:300,editable:!0,enabled:!0,icons:!1,icon_path:"",tabs:new OGX.List},i=0,b=0,c=!1,l="mousedown",_="mouseup",d="mousemove",h=!1,u=0;function f(){var t=o.width(),a=Math.round(t/r.tabs.length);return a<r.min_width&&(a=r.min_width),a>r.max_width&&(a=r.max_width),a}function g(){for(var t=o.outerHeight()-10,a=f(),n='<div class="ogx_tabs_container" style="width:'+r.tabs.length*a+'px;">',s="",e=0;e<r.tabs.length;e++)e===u&&(s="ogx_tabs_tab_active"),n+='<div class="ogx_tabs_tab '+s+'" style="width:'+a+"px; height:"+t+'px;"><div class="ogx_tabs_tab_container">',r.icons&&(n+='<span class="ogx_tabs_tab_icon" style="background-image:url(\''+r.icon_path+"/"+r.tabs[e].icon+"');\"></span>"),n+='<span class="ogx_tabs_tab_label">'+r.tabs[e].label+"</span>",r.editable&&(n+='<span class="ogx_tabs_tab_close"><span></span></span>'),n+="</div></div>",s="";n+="</div>",o.html(n),h=o.children(".ogx_tabs_container:first").children(".ogx_tabs_tab:eq("+u+")")}function x(){if(i){var t=Math.round(i-s+b),a=o.width(),n=-1*(o.children(".ogx_tabs_container:first").width()-a);0<t&&(t=0),t<n&&(t=n),o.children(".ogx_tabs_container:first").css("transform","translateX("+t+"px)")}}function a(t){t?$("body").on(d,function(t){t=m(t),i=t.pageX}):($("body").off(d),i=0),function t(a){a?(c&&t(!1),c=setInterval(x,10)):(clearInterval(c),c=!1)}(t)}function v(t){t?(o.on("click",".ogx_tabs_tab",function(){h&&h.removeClass("ogx_tabs_tab_active"),$(this).addClass("ogx_tabs_tab_active"),h=$(this),u=h.index(),o.trigger(OGX.Tabs.SELECT,r.tabs[h.index()])}),o.on(l,".ogx_tabs_container",function(t){t=m(t),s=t.pageX,b=$(this).position().left,a(!0)}),$("body").on(_,function(t){a(!1)}),o.on("click",".ogx_tabs_tab_close",function(t){return t.preventDefault(),t.stopImmediatePropagation(),o.trigger(OGX.Tabs.CLOSE,r.tabs[u]),n.removeCurrentTab(),function(){var t=f(),a=o.children(".ogx_tabs_container:first"),n=r.tabs.length*t;a.width(n),a.children(".ogx_tabs_tab").width(t-2);var s=a.position().left,e=o.width()-(n+s),i=o.width();s+e<0&&i<n?o.children(".ogx_tabs_container:first").css("transform","translateX("+(s+e)+"px)"):n<=i&&o.children(".ogx_tabs_container:first").css("transform","translateX(0px)")}(),!1})):(o.off("click",".ogx_tabs_tab"),o.off(l,".ogx_tabs_container"),o.off("click",".ogx_tabs_tab_close"),$("body").off(_))}function m(t){return t.hasOwnProperty("originalEvent")&&void 0!==t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}this._NAME_=OGX.Tabs.NAME,this.el=null,this.val=function(t){if(void 0===t)return r.tabs;t.hasOwnProperty("insert")||(t=new OGX.List(t)),r.tabs=t,setTimeout(g,0)},this.enable=function(){r.enabled||(v(!0),r.enabled=!0)},this.disable=function(){r.enabled&&(v(!1),r.enabled=!1)},this.addTab=function(t){r.tabs.insert(t),u=r.tabs.length-1,setTimeout(g,0)},this.addTabAt=function(t,a){r.tabs.insert(t,a),u=a,setTimeout(g,0)},this.removeCurrentTab=function(){h&&this.removeTabAt(u)},this.removeTabAt=function(t){return!!r.tabs.delete(t)&&(o.children(".ogx_tabs_container:first").children(".ogx_tabs_tab:eq("+t+")").remove(),h=null,function(){0<u?u--:u+1<r.tabs.length&&u++;n.selectTabAt(u)}(),!0)},this.selectTabAt=function(t){return h&&(h.removeClass("ogx_tabs_tab_active"),h=null),(h=o.children(".ogx_tabs_container:first").children(".ogx_tabs_tab:eq("+t+")")).addClass("ogx_tabs_tab_active"),u=t,!0},this.selectTab=function(t){h&&h.removeClass("ogx_tabs_tab_active");var a=r.tabs.findIndex("label",t);this.selectTabAt(a.index)},this.getTab=function(){if(h){var t=h.index();return r.tabs[t]}return!1},this.order=function(t,a){r.list.order(t,a),setTimeout(g,0)},this.destroy=function(){v(!1),a(!1)},void 0!==OGX.List?(function(){for(var t in r||(r={}),e)r.hasOwnProperty(t)||(r[t]=e[t]);r.tabs.hasOwnProperty("insert")||(r.tabs=new OGX.List(r.tabs)),void 0!==window.ontouchstart&&(l="touchstart",_="touchend",d="touchmove");var a=$(r.container).outerHeight();$(r.container).append('<div class="ogx_tabs" style="height:'+a+'px;"></div>'),n.el=o=$(r.container).children(".ogx_tabs:first")}(),setTimeout(g,0),v(!0)):console.log("%c CRITICAL ERROR - OGX.List not found! ","background:#222; color: #FF0000")},OGX.Tabs.NAME="OgxTabs",OGX.Tabs.SELECT="tabsSelect",OGX.Tabs.CLOSE="tabsClose";