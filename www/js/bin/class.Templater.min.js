if(void 0===OGX)var OGX={};OGX.Templater=function(){},OGX.Templater.templatize=function(__obj,__template,__debug){"use strict";var reg;void 0===__debug&&(__debug=!1);var tmp={};function extract(){reg=new RegExp("{{(((?!(}})).)*)}}","gi");var e=__template.match(reg);if(e)for(var t=0;t<e.length;t++)reg=new RegExp("^{{[ ]?([a-z]+) ","gi"),e[t].match(reg)?handleOp(e[t]):handleEcho(e[t])}function handleOp(e){var t=/{{[ ]?([a-z]+)/gi.exec(e);if(t&&t.length)switch(t[1]){case"loop":handleLoop(e);break;case"calc":handleCalc(e)}}function handleLoop(__op){var html="",reg=/{{[ ]?loop[ ]+((?:\$|@)[a-z0-9_\-\.]+)[ ]+(.*)([ ]+)?}}/gi,match=reg.exec(__op);if(match){var prop=eval("__obj."+match[1].substr(1));if(prop){if(prop.length){for(var i=0;i<prop.length;i++)html+=match[2].replace(/\.\$/g,"["+i+"]");html=replace(html)}__template=__template.replace(match[0],html)}else __debug||(__template=__template.replace(__op,""))}}function handleCalc(__op){var html="",s=__op.replace(/{{[ ]?calc/gi,"");s=s.replace(/}/gi,""),s=s.replace(/\@/g,"tmp."),s=s.replace(/\$/g,"__obj."),s=replaceGlobalVar(s);var r=eval(s);void 0===r&&__debug||(__template=__template.replace(__op,""))}function handleEcho(__op){var s=__op.replace(/{|}/gi,"");s=s.replace(/\@/g,"tmp."),s=s.replace(/\$/g,"__obj."),s=replaceGlobalVar(s);var r=eval(s);void 0!==r?__template=__template.replace(__op,r):__debug||(__template=__template.replace(__op,""))}function replaceGlobalVar(e){if(-1!==e.indexOf("#")){var t=e.match(/#([a-z0-9_\\-]+)/gi);t&&(e=e.replace(/(#[a-zA-Z0-9_\\-]+)/g,t[0].substr(1)))}return e}function replace(__html){var reg=new RegExp("((\\$|@|#)[a-z0-9_\\-\\[\\]\\.]+)","gi"),match=__html.match(reg),s,r;if(match){for(var i=0;i<match.length;i++)s=match[i].replace(/\$/g,"__obj."),s=s.replace(/\@/g,"tmp."),s=replaceGlobalVar(s),r=eval(s),void 0!==r&&(__html=__html.replace(match[i],r));return __html}return!1}return extract(__template),__template},OGX.Templater.loadTemplates=function(e,t){"use strict";var r=this;this.templates={},void 0===t&&(t=!1),setTimeout(function(){!function t(a,l){a.length?$.get(a[0].file,function(e){r.templates[a[0].name]=e,$(document).trigger(OGX.Templater.TEMPLATE_LOADED,{name:a[0].name,html:e}),a.splice(0,1),a.length?setTimeout(function(){t(a,l)},0):l?l():$(document).trigger(OGX.Templater.TEMPLATES_LOADED)}):l()}(e,t)},0),this.getTemplate=function(e){return!!this.templates.hasOwnProperty(e)&&this.templates[e]}},OGX.Templater.TEMPLATE_LOADED="Templater_TEMPLATE_LOADED",OGX.Templater.TEMPLATES_LOADED="Templater_TEMPLATES_LOADED";