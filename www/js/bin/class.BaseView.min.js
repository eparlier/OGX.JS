OGX.BaseView=function(){"use strict";var i,t,o,l,a=this,n={overlay:!1,loading:!1,blur:!1,id:!1,scope:["public"]},r=!1,s=!1,c=!1;function d(e){e?o||(o=new MutationObserver(function(e,i){e.forEach(function(e){a.el.trigger(OGX.BaseView.RENDER)})})).observe(a.el[0],{childList:!0,subtree:!0}):o&&(o.disconnect(),o=null)}function u(){a.render(),i.observe&&d(!0),i.overlay&&a.addOverlay(),i.loading&&a.addLoading(),i.blur&&a.blur()}this.el=null,this._construct_=function(e){i=e,function(){for(var e in n)i.hasOwnProperty(e)||(i[e]=n[e]);a.el=t=$(i.container)}(),i.scroll?(s=new OGX.Scroller({container:t[0]}),t.on(OGX.Scroller.READY,function(){t.off(OGX.Scroller.READY),a.el=t=s.getContainer(),u()})):u()},this._window_=function(e){if(void 0===e)return r;r=e},this._destroy_=function(){d(!1),i.scroll&&s&&s.destroy(),this.ux(!1)},this.constructor=function(){},this._uid=function(){return i.id},this.scope=function(){return i.scope},this.focus=function(){},this.blur=function(){},this.empty=function(){t.empty()},this.observe=function(e){d(e)},this.getScroller=function(){return s},this.ux=function(){},this.render=function(e){void 0===e?i.hasOwnProperty("html")&&t.html(i.html):t.html(e)},this.addLoading=function(e){if(!l){var i={width:30,height:30};if(void 0===e)e=i;else for(var t in e)i[t]=e[t];!function(e){var i=a.el.outerWidth(),t=a.el.outerHeight(),o=(i-e.width)/2,n=t/2-e.height/2,r="";e.hasOwnProperty("image")&&(r=" background-image:url('"+e.image+"')");var s='<div class="ogx_view_loading" style="width:'+e.width+"px; height:"+e.height+"px; left:"+o+"px; top:"+n+"px;"+r+'"></div>';a.el.append(s),l=a.el.children(".ogx_view_loading:last")}(i)}},this.removeLoading=function(){l&&(l.remove(),l=null)},this.addOverlay=function(e){if(void 0===e&&(e=!1,OGX.Overlays.hasOwnProperty("anim")&&(e=OGX.Overlays.anim)),!c){var i='<div class="ogx_overlay" style="width:'+a.el.outerWidth()+"px; height:"+a.el.outerHeight()+'px; opacity:0;"></div>';if(this.el.append(i),c=this.el.children(".ogx_overlay:first"),e)switch(e){case OGX.App.OVERLAY_FADE:setTimeout(function(){c.removeClass("ogx_overlay_fade_out"),c.addClass("ogx_overlay_fade_in")},OGX.Overlays.delay)}else c.css("opacity",1)}},this.removeOverlay=function(e){if(void 0===e&&(e=!1),e)switch(e){case OGX.App.OVERLAY_FADE:c.removeClass("ogx_overlay_fade_in"),c.addClass("ogx_overlay_fade_out"),0<c.css("opacity")?c.on("transitionend",function(){c&&(c.off("transitionend"),c.remove(),c=null)}):c&&(c.removeClass("ogx_overlay_fade_in"),c.removeClass("ogx_overlay_fade_out"),c.off("transitionend"),c.remove(),c=null)}else c&&(c.remove(),c=!1)},this.destroy=function(){}},OGX.BaseView.RENDER="render";