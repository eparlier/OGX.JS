OGX.BaseView=function(){"use strict";var i,t,o,l,a=this,n={},r=!1,s=!1;function c(e){e?o||(o=new MutationObserver(function(e,i){e.forEach(function(e){a.el.trigger(OGX.BaseView.RENDER)})})).observe(a.el[0],{childList:!0,subtree:!0}):o&&(o.disconnect(),o=null)}function h(){a.render(),i.observe&&c(!0)}this.el=null,this._construct_=function(e){i=e,function(){for(var e in n)a.config.hasOwnProperty(e)||(a.config[e]=n[e]);a.el=t=$(i.container)}(),i.scroll?(r=new OGX.Scroller({container:t[0]}),t.on(OGX.Scroller.READY,function(){t.off(OGX.Scroller.READY),a.el=t=r.getContainer(),h()})):h()},this.constructor=function(){},this.scopes=function(){return a.config.scopes},this.focus=function(){},this.blur=function(){},this.observe=function(e){c(e)},this.getScroller=function(){return r},this._destroy_=function(){c(!1),i.scroll&&r&&r.destroy(),this.ux(!1),t.empty()},this.ux=function(){},this.render=function(e){void 0===e?i.hasOwnProperty("html")&&t.html(i.html):t.html(e)},this.addLoading=function(e){if(!l){var i={width:30,height:30};if(void 0===e)e=i;else for(var t in e)i[t]=e[t];!function(e){var i=a.el.outerWidth(),t=a.el.outerHeight(),o=(i-e.width)/2,n=t/2-e.height/2,r="";e.hasOwnProperty("image")&&(r=" background-image:url('"+e.image+"')");var s='<div class="ogx_view_loading" style="width:'+e.width+"px; height:"+e.height+"px; left:"+o+"px; top:"+n+"px;"+r+'"></div>';a.el.append(s),l=a.el.children(".ogx_view_loading:last")}(i)}},this.removeLoading=function(){l&&(l.remove(),l=null)},this.addOverlay=function(e){if(void 0===e&&(e=!1,OGX.Overlays.hasOwnProperty("anim")&&(e=OGX.Overlays.anim)),!s){var i='<div class="ogx_overlay" style="width:'+a.el.outerWidth()+"px; height:"+a.el.outerHeight()+'px; opacity:0;"></div>';if(this.el.append(i),s=this.el.children(".ogx_overlay:first"),e)switch(e){case OGX.App.OVERLAY_FADE:setTimeout(function(){s.removeClass("ogx_overlay_fade_out"),s.addClass("ogx_overlay_fade_in")},OGX.Overlays.delay)}else s.css("opacity",1)}},this.removeOverlay=function(e){if(void 0===e&&(e=!1),e)switch(e){case OGX.App.OVERLAY_FADE:s.removeClass("ogx_overlay_fade_in"),s.addClass("ogx_overlay_fade_out"),0<s.css("opacity")?s.on("transitionend",function(){s&&(s.off("transitionend"),s.remove(),s=null)}):s&&(s.removeClass("ogx_overlay_fade_in"),s.removeClass("ogx_overlay_fade_out"),s.off("transitionend"),s.remove(),s=null)}else s&&(s.remove(),s=!1)},this.destroy=function(){}},OGX.BaseView.RENDER="render";