if(void 0===OGX)var OGX=function(){};OGX.Calendar=function(a){"use strict";var t,e,n,i,d,r=this,s=a,o={date:moment(),layouts:[{layout:"MONTH_DAYS",engine:"DAY_NUMBER",config:!1}],layout:0,selectable:!0,swipable:!0,chromeos:!1},_=[],l=!1,u=!1,c={x:1,y:1};function f(a){a?e.on("click",".ogx_calendar_layout_item",m):e.off("click",".ogx_calendar_layout_item",m)}function m(a){var t=$(this);if(t.hasClass("ogx_calendar_selected_item"))return t.removeClass("ogx_calendar_selected_item"),l=!1,void r.el.trigger(OGX.Calendar.UNSELECT,t.data("ogx-date"));l&&l.removeClass("ogx_calendar_selected_item"),u=(l=t).data("ogx-date"),l.addClass("ogx_calendar_selected_item"),r.el.trigger(OGX.Calendar.SELECT,u)}function Y(a){a?(e.on(OGX.GridSwiper.SWIPE_LEFT,function(a,t){var e=_[d].value();y(e.value,e.unit)}),e.on(OGX.GridSwiper.SWIPE_RIGHT,function(a,t){var e=_[d].value();y(-1*e.value,e.unit)}),e.on(OGX.GridSwiper.SWIPE_UP,function(a,t){d=t.cell.y-1,h(),g(_[d].labels())}),e.on(OGX.GridSwiper.SWIPE_DOWN,function(a,t){d=t.cell.y-1,h(),g(_[d].labels())})):(e.off(OGX.GridSwiper.SWIPE_LEFT),e.off(OGX.GridSwiper.SWIPE_RIGHT),e.off(OGX.GridSwiper.SWIPE_UP),e.off(OGX.GridSwiper.SWIPE_DOWN))}function y(a,t){i.add(a,t),h()}function h(){var a=_[d].format();e.children(".ogx_calendar_head:first").children(".ogx_calendar_head_date:first").html(i.format(a))}function g(a){e.children(".ogx_calendar_head:first").children(".ogx_calendar_head_labels:first").html(a)}function v(a,t,e,n){var r=$(n),o=_[d].value(),l=i.clone().add(e.x*o.value,o.unit),u=_[a.y].html(l,OGX.CalendarEngine[s.layouts[a.y].engine],s.layouts[a.y].config);r.html(u)}this._NAME_=OGX.Calendar.NAME,this.el=null,this.destroy=function(){s.selectable&&f(!1),Y(!1),t.destroy()},void 0!==OGX.GridSwiper?"undefined"!=typeof moment?(function(){for(var a in o)s.hasOwnProperty(a)||(s[a]=o[a]);r.el=e=$(s.container),e.addClass("ogx_calendar"),moment.isMoment(s.date)||(s.date=moment(s.date)),i=s.date.clone(),d=s.layout,c.y=d+1}(),e.html('<div class="ogx_calendar_head"><div class="ogx_calendar_head_date"></div><div class="ogx_calendar_head_labels"></div></div><div class="ogx_calendar_body"></div>'),function(){n=[[!1,!1,!1]];for(var a=0;a<s.layouts.length;a++)n.push([v,v,v]);n.push([!1,!1,!1])}(),function(){for(var a=0;a<s.layouts.length;a++)_.push((t=s.layouts[a].layout,e={},OGX.CalendarLayout[t].prototype=Object.create(OGX.CalendarLayout.BASE_LAYOUT.prototype),OGX.CalendarLayout[t].prototype.constructor=OGX.CalendarLayout[t],new OGX.CalendarLayout[t](e)));var t,e}(),t=new OGX.GridSwiper({container:s.container+" .ogx_calendar_body:first",loop:!0,map:n,start:{x:1,y:1},chromeos:s.chromeos}),h(),Y(!0),s.selectable&&f(!0)):console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000"):console.log("%c CRITICAL ERROR - OGX.GridSwiper not found! ","background:#222; color: #FF0000")},OGX.Calendar.NAME="OgxCalendar",OGX.Calendar.SELECT="OgxCalendarSelect",OGX.Calendar.UNSELECT="OgxCalendarUnselect",OGX.CalendarLayout={},OGX.CalendarLayout.BASE_LAYOUT=function(){this.labels=function(a){return""},this.html=function(a,t,e){return""},this.value=function(){return{value:1,unit:"months"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.MONTH_DAYS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){for(var a="",t=function(){for(var a=new Date(Date.UTC(2017,0,2)),t=[],e=0;e<7;e++)t.push(a.toLocaleDateString(navigator.language,{weekday:"short"})),a.setDate(a.getDate()+1);return t}(),e=0;e<t.length;e++)a+='<span class="ogx_calendar_layout_month_days_label">'+t[e]+"</span>";return a},this.html=function(a,t,e){for(var n,r=a.format("MM"),o=moment(a.format("YYYY-MM-")+"01").day(),l=moment(a.format("YYYY-MM-")+"01").subtract(o,"days"),u="",i=0;i<42;i++)n="",l.format("MM")!==r&&(n+="ogx_calendar_layout_month_days_offset "),l.format("YYYY-MM-DD")===moment().format("YYYY-MM-DD")&&(n+="ogx_calendar_layout_month_days_today "),u+='<div class="ogx_calendar_layout_item ogx_calendar_layout_month_days '+n+'" data-ogx-date="'+l.format("YYYY-MM-DD")+'">'+t(l.format("YYYY-MM-DD"),e)+"</div>",l.add(1,"days");return u},this.value=function(){return{value:1,unit:"months"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.CENTURY_DECADES=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e){for(var n,r=100*Math.floor(Number(a.format("YYYY"))/100),o="",l=10*Math.floor(Number(moment().format("YYYY"))/10),u=0;u<10;u++)n="",l===r&&(n="ogx_calendar_layout_century_decades_current "),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_century_decades '+n+'" data-ogx-date="'+r+'">'+t(r,e)+"</div>",r+=10;return o},this.value=function(){return{value:100,unit:"years"}},this.format=function(){return"YYYY"}},OGX.CalendarLayout.CENTURY_YEARS=function(){this.labels=function(){return""},this.html=function(a,t,e){for(var n,r=100*Math.floor(Number(a.format("YYYY"))/100),o="",l=Number(moment().format("YYYY")),u=0;u<100;u++)n="",r+u===l&&(n+="ogx_calendar_layout_century_years_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_century_years '+n+'" data-ogx-date="'+(r+u)+'">'+t(r+u+"-01-01",e)+"</div>";return o},this.value=function(){return{value:100,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.DECADE_YEARS=function(){this.labels=function(){return""},this.html=function(a,t,e){for(var n,r=10*Math.floor(Number(a.format("YYYY"))/10),o="",l=Number(moment().format("YYYY")),u=0;u<10;u++)n="",r+u===l&&(n+="ogx_calendar_layout_decade_years_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_decade_years '+n+'" data-ogx-date="'+(r+u)+'">'+t(r+u+"-01-01",e)+"</div>";return o},this.value=function(){return{value:10,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.DECADE_MONTHS=function(){var s;this.labels=function(){for(var a="",t=0;t<10;t++)a+="<span>"+(s+t)+"</span>";return a},this.html=function(a,t,e){s=10*Math.floor(Number(a.format("YYYY"))/10);for(var n,r,o="",l=moment().format("YYYY-MM"),u=moment(s+"-01-01"),i=0;i<10;i++)for(var d=0;d<12;d++)r="",(n=u.format("YYYY-MM"))===l&&(r="ogx_calendar_layout_decade_months_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_decade_months '+r+'" data-ogx-date="'+n+'">'+t(n,e)+"</div>",u.add(1,"months");return o},this.value=function(){return{value:10,unit:"years"}},this.format=function(){return" "}},OGX.CalendarLayout.YEAR_MONTHS=function(){this.labels=function(){return""},this.html=function(a,t,e){for(var n,r,o=moment().format("YYYY-MM"),l=a.format("YYYY"),u="",i=1;i<13;i++)n="",l+"-"+(r=i<10?"0"+i:i)===o&&(n+="ogx_calendar_layout_year_months_current"),u+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_months '+n+'" data-ogx-date="'+l+"-"+r+'">'+t(l+"-"+r+"-01",e)+"</div>";return u},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.YEAR_WEEKS=function(){this.labels=function(){return'<span class="ogx_calendar_layout_year_weeks_label">Weeks</span>'},this.html=function(a,t,e){for(var n,r,o=a.week(),l=a.format("YYYY"),u=moment().format("YYYY"),i="",d=1;d<53;d++)n="",o===d&&l===u&&(n="ogx_calendar_layout_year_weeks_current"),i+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_weeks '+n+'" data-ogx-date="'+(r=moment().year(l).week(d).format("YYYY-MM-DD"))+'">'+t(r,e)+"</div>";return i},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.YEAR_DAYS=function(){this.labels=function(){return""},this.html=function(a,t,e){var n,r,o,l="",u=a.format("YYYY-MM-DD"),i=moment(a.format("YYYY")+"-01-01");r=a.isLeapYear()?366:365;for(var d=0;d<r;d++)n="",(o=i.format("YYYY-MM-DD"))===u&&(n="ogx_calendar_layout_year_days_current"),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_days '+n+'" data-ogx-date="'+o+'">'+t(moment(o),e)+"</div>",i.add(1,"days");return l},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.MONTH_WEEKS=function(){this.labels=function(){return""},this.html=function(a,t,e){for(var n="",r=0;r<5;r++)css="",n+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_days '+css+'" data-ogx-date="'+fm+'">'+t(moment(fm),e)+"</div>",d.add(1,"days");return n},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.WEEK_DAYS=function(){this.labels=function(){for(var a="",t=function(){for(var a=new Date(Date.UTC(2017,0,2)),t=[],e=0;e<7;e++)t.push(a.toLocaleDateString(navigator.language,{weekday:"short"})),a.setDate(a.getDate()+1);return t}(),e=0;e<t.length;e++)a+='<span class="ogx_calendar_layout_month_days_label">'+t[e]+"</span>";return a},this.html=function(a,t,e){for(var n,r,o="",l=a.weekday(),u=a.subtract(l,"days"),i=moment().format("YYYY-MM-DD"),d=0;d<7;d++)n="",(r=u.format("YYYY-MM-DD"))===i&&(n="ogx_calendar_layout_week_days_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_week_days '+n+'" data-ogx-date="'+r+'">'+t(moment(r),e)+"</div>",u.add(1,"days");return o},this.value=function(){return{value:1,unit:"weeks"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.DAY_HOURS=function(){this.labels=function(){return""},this.html=function(a,t,e){for(var n,r="",o=Number(a.format("HH")),l=a.format("YYYY-MM-DD "),u=moment().format("YYYY-MM-DD "),i=0;i<24;i++)css="",i===o&&l===u&&(css="ogx_calendar_layout_days_hours_current"),n=i<10?"0"+i:i,r+='<div class="ogx_calendar_layout_item ogx_calendar_layout_days_hours '+css+'" data-ogx-date="'+(l+n)+':00">'+t(moment(l+n+":00"),e)+"</div>";return r},this.value=function(){return{value:1,unit:"days"}},this.format=function(){return"YYYY-MM-DD"}},OGX.CalendarLayout.DAY_WORK_HOURS=function(){this.labels=function(){return""},this.html=function(a,t,e){e&&void 0!==e?e.hasOwnProperty("start")||(e.start=8,e.end=17):e={start:8,end:17};for(var n,r="",o=Number(a.format("HH")),l=a.format("YYYY-MM-DD "),u=moment().format("YYYY-MM-DD "),i=e.start;i<e.end+1;i++)css="",i===o&&l===u&&(css="ogx_calendar_layout_days_work_hours_current"),n=i<10?"0"+i:i,r+='<div class="ogx_calendar_layout_item ogx_calendar_layout_days_work_hours '+css+'" data-ogx-date="'+(l+n)+':00">'+t(moment(l+n+":00"),e)+"</div>";return r},this.value=function(){return{value:1,unit:"days"}},this.format=function(){return"YYYY-MM-DD"}},OGX.CalendarEngine={},OGX.CalendarEngine.CELL_VALUE=function(a,t){var e=moment(a);return'<div class="ogx_calendar_engine_cell_value '+t.css+'">'+e.format(t.format)+"</div>"},OGX.CalendarEngine.DAY_NUMBER=function(a,t){return OGX.CalendarEngine.CELL_VALUE(a,{format:"DD",css:"ogx_calendar_engine_day_number"})},OGX.CalendarEngine.WEEK_NUMBER=function(a,t){return'<div class="ogx_calendar_engine_week_number">'+moment(a).week()+"</div>"},OGX.CalendarEngine.DECADE_NUMBER=function(a){return'<div class="ogx_calendar_engine_date_day_number">'+a+"</div>"},OGX.CalendarEngine.DAY_GRAPH=function(a){var t=moment(a),e=Math.round(1e4*Math.random()),n='<div class="ogx_calendar_engine_day_graph" data-graph="'+t.format("YYYY-MM-DD")+e+'"></div>';return setTimeout(function(){new Chartist.Line('.ogx_calendar_engine_day_graph[data-graph="'+t.format("YYYY-MM-DD")+e+'"]',{labels:["Monday","Tuesday","Wednesday","Thursday","Friday"],series:[[12,9,7,8,5],[2,1,3.5,7,3],[1,3,4,5,6]]},{fullWidth:!0,chartPadding:{right:40}})},0),n};