if(void 0===OGX)var OGX=function(){};OGX.Calendar=function(a){"use strict";var e,n,t,d,r=this,u=a,o={display_date:moment(),date:!1,format:"YYYY-MM-DD",layouts:[{layout:"MONTH_DAYS",engine:"DAY_NUMBER",config:!1}],layout:0,selectable:!0,swipable:!0,chromeos:!1},s=[],l={x:1,y:1};function i(a){a?n.on("click",".ogx_calendar_layout_item",_):n.off("click",".ogx_calendar_layout_item",_)}function _(a){var t=$(this);t.hasClass("ogx_calendar_selected_item")?(t.removeClass("ogx_calendar_selected_item"),r.el.trigger(OGX.Calendar.UNSELECT,u.date),u.date=null):(t.parent().find(".ogx_calendar_selected_item:first").removeClass("ogx_calendar_selected_item"),t.addClass("ogx_calendar_selected_item"),u.date=moment(t.data("ogx-date")),u.display_date=u.date.clone(),r.el.trigger(OGX.Calendar.SELECT,u.date),f()),setTimeout(c,0)}function c(){for(var a=e.getCells(),t=0;t<a.length;t++)0==a[t].offset.x&&0==a[t].offset.y||h(a[t].abs,a[t].rel,a[t].offset,$(a[t].element).children(0)[0])}function m(a){a?(n.on(OGX.GridSwiper.SWIPE_LEFT,function(a,t){var e=s[d].value();Y(e.value,e.unit)}),n.on(OGX.GridSwiper.SWIPE_RIGHT,function(a,t){var e=s[d].value();Y(-1*e.value,e.unit)}),n.on(OGX.GridSwiper.SWIPE_UP,function(a,t){d=t.cell.y-1,f(),y(s[d].labels())}),n.on(OGX.GridSwiper.SWIPE_DOWN,function(a,t){d=t.cell.y-1,f(),y(s[d].labels())})):(n.off(OGX.GridSwiper.SWIPE_LEFT),n.off(OGX.GridSwiper.SWIPE_RIGHT),n.off(OGX.GridSwiper.SWIPE_UP),n.off(OGX.GridSwiper.SWIPE_DOWN))}function Y(a,t){u.display_date.add(a,t),f()}function f(){var a=s[d].format(),t='<span class="ogx_calendar_display_date">'+u.display_date.format(a)+"</span>";u.date&&(t+=' | <span class="ogx_calendar_selected_date">'+u.date.format(u.format)+"</span>"),n.children(".ogx_calendar_head:first").children(".ogx_calendar_head_date:first").html(t)}function y(a){n.children(".ogx_calendar_head:first").children(".ogx_calendar_head_labels:first").html(a)}function h(a,t,e,n){if(0<=t.y-1&&t.y-1<u.layouts.length){var r=$(n),o=s[d].value(),l=u.display_date.clone().add(e.x*o.value,o.unit),i=s[t.y-1].html(l,OGX.CalendarEngine[u.layouts[t.y-1].engine],u.layouts[t.y-1].config,u.date);r.html(i)}}this._NAME_=OGX.Calendar.NAME,this.el=null,this.val=function(a){return void 0!==a&&(u.date=a,moment().isMoment(u.date)||(u.date=moment(u.date)),u.display_date=u.date.clone(),f(),setTimeout(c,0)),u.date},this.display=function(a){return void 0!==a&&(u.display_date=a,moment().isMoment(u.display_date)||(u.display_date=moment(u.display_date)),f(),setTimeout(c,0)),u.display_date},this.axis=function(a,t){u.axis.x=a,u.axis.y=t},this.next=function(){u.layouts.length},this.prev=function(){},this.getLayout=function(){return d},this.destroy=function(){u.selectable&&i(!1),m(!1),e.destroy()},void 0!==OGX.GridSwiper?"undefined"!=typeof moment?(function(){for(var a in o)u.hasOwnProperty(a)||(u[a]=o[a]);r.el=n=$(u.container),n.addClass("ogx_calendar"),u.display_date?moment.isMoment(u.display_date)||(u.display_date=moment(u.display_date)):u.display_date=moment(),d=u.layout,l.y=d+1}(),n.html('<div class="ogx_calendar_head"><div class="ogx_calendar_head_date"></div><div class="ogx_calendar_head_labels"></div></div><div class="ogx_calendar_body"></div>'),function(){t=[[!1,!1,!1]];for(var a=0;a<u.layouts.length;a++)t.push([h,h,h]);t.push([!1,!1,!1])}(),function(){for(var a=0;a<u.layouts.length;a++)s.push((t=u.layouts[a].layout,e={},OGX.CalendarLayout[t].prototype=Object.create(OGX.CalendarLayout.BASE_LAYOUT.prototype),OGX.CalendarLayout[t].prototype.constructor=OGX.CalendarLayout[t],new OGX.CalendarLayout[t](e)));var t,e}(),e=new OGX.GridSwiper({container:u.container+" .ogx_calendar_body:first",loop:!0,map:t,start:{x:1,y:1},chromeos:u.chromeos}),f(),y(s[d].labels()),m(!0),u.selectable&&i(!0)):console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000"):console.log("%c CRITICAL ERROR - OGX.GridSwiper not found! ","background:#222; color: #FF0000")},OGX.Calendar.NAME="OgxCalendar",OGX.Calendar.SELECT="OgxCalendarSelect",OGX.Calendar.UNSELECT="OgxCalendarUnselect",OGX.CalendarLayout={},OGX.CalendarLayout.BASE_LAYOUT=function(){"use strict";this.labels=function(a){return""},this.html=function(a,t,e,n){return""},this.value=function(){return{value:1,unit:"months"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.MONTH_DAYS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){for(var a="",t=function(){for(var a=new Date(Date.UTC(2017,0,2)),t=[],e=0;e<7;e++)t.push(a.toLocaleDateString(navigator.language,{weekday:"short"})),a.setDate(a.getDate()+1);return t}(),e=0;e<t.length;e++)a+='<span class="ogx_calendar_layout_month_days_label">'+t[e]+"</span>";return a},this.html=function(a,t,e,n){var r,o=a.format("MM"),l=moment(a.format("YYYY-MM-")+"01").day(),i=moment(a.format("YYYY-MM-")+"01").subtract(l,"days"),d="";n&&(d=n.format("YYYY-MM-DD"));for(var u,s="",_=0;_<42;_++)u="",r=i.format("YYYY-MM-DD"),i.format("MM")!==o&&(u+="ogx_calendar_layout_month_days_offset "),r===moment().format("YYYY-MM-DD")&&(u+="ogx_calendar_layout_month_days_today "),n&&d===r&&(u+="ogx_calendar_selected_item "),s+='<div class="ogx_calendar_layout_item ogx_calendar_layout_month_days '+u+'" data-ogx-date="'+r+'">'+t(r,e)+"</div>",i.add(1,"days");return s},this.value=function(){return{value:1,unit:"months"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.CENTURY_DECADES=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){var r,o=100*Math.floor(Number(a.format("YYYY"))/100),l="",i=10*Math.floor(Number(moment().format("YYYY"))/10),d="";n&&(d=10*Math.floor(Number(n.format("YYYY"))/10));for(var u=0;u<10;u++)r="",i===o&&(r="ogx_calendar_layout_century_decades_current "),d===i&&(r+="ogx_calendar_selected_item "),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_century_decades '+r+'" data-ogx-date="'+o+'">'+t(o,e)+"</div>",o+=10;return l},this.value=function(){return{value:100,unit:"years"}},this.format=function(){return"YYYY"}},OGX.CalendarLayout.CENTURY_YEARS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){var r,o=100*Math.floor(Number(a.format("YYYY"))/100),l="",i=Number(moment().format("YYYY")),d="";n&&(d=Number(n.format("YYYY")));for(var u=0;u<100;u++)r="",o+u===i&&(r+="ogx_calendar_layout_century_years_current"),d===o+u&&(r+="ogx_calendar_selected_item"),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_century_years '+r+'" data-ogx-date="'+(o+u)+'">'+t(o+u+"-01-01",e)+"</div>";return l},this.value=function(){return{value:100,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.DECADE_YEARS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){var r,o=10*Math.floor(Number(a.format("YYYY"))/10),l="",i=Number(moment().format("YYYY")),d="";n&&(d=Number(n.format("YYYY")));for(var u=0;u<10;u++)r="",o+u===i&&(r+="ogx_calendar_layout_decade_years_current "),o+u===d&&(r+="ogx_calendar_selected_item "),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_decade_years '+r+'" data-ogx-date="'+(o+u)+'">'+t(o+u+"-01-01",e)+"</div>";return l},this.value=function(){return{value:10,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.DECADE_MONTHS=function(){"use strict";var c;OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){for(var a="",t=0;t<10;t++)a+="<span>"+(c+t)+"</span>";return a},this.html=function(a,t,e,n){c=10*Math.floor(Number(a.format("YYYY"))/10);var r,o,l,i="",d=moment().format("YYYY-MM"),u=moment(c+"-01-01");n&&(r=n.format("YYYY-MM"));for(var s=0;s<10;s++)for(var _=0;_<12;_++)l="",(o=u.format("YYYY-MM"))===d&&(l="ogx_calendar_layout_decade_months_current "),o===r&&(l+="ogx_calendar_selected_item "),i+='<div class="ogx_calendar_layout_item ogx_calendar_layout_decade_months '+l+'" data-ogx-date="'+o+'">'+t(o,e)+"</div>",u.add(1,"months");return i},this.value=function(){return{value:10,unit:"years"}},this.format=function(){return" "}},OGX.CalendarLayout.YEAR_MONTHS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){var r,o,l=moment().format("YYYY-MM"),i=a.format("YYYY"),d="",u="";n&&(u=n.format("YYYY-MM"));for(var s=1;s<13;s++)r="",i+"-"+(o=s<10?"0"+s:s)===l&&(r+="ogx_calendar_layout_year_months_current "),i+"-"+o===u&&(r+="ogx_calendar_selected_item "),d+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_months '+r+'" data-ogx-date="'+i+"-"+o+'">'+t(i+"-"+o+"-01",e)+"</div>";return d},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.YEAR_WEEKS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return'<span class="ogx_calendar_layout_year_weeks_label">Weeks</span>'},this.html=function(a,t,e,n){var r=moment().week(),o=a.format("YYYY"),l=moment().format("YYYY"),i="",d="";n&&(d=n.week(),i=n.format("YYYY"));for(var u,s,_="",c=1;c<53;c++)u="",r===c&&o===l&&(u="ogx_calendar_layout_year_weeks_current "),d===c&&o===i&&(u+="ogx_calendar_selected_item "),_+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_weeks '+u+'" data-ogx-date="'+(s=moment().year(o).week(c).format("YYYY-MM-DD"))+'">'+t(s,e)+"</div>";return _},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.YEAR_DAYS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){var r,o,l,i="",d=a.format("YYYY-MM-DD"),u=moment(a.format("YYYY")+"-01-01"),s="";n&&(s=n.format("YYYY-MM-DD")),o=a.isLeapYear()?366:365;for(var _=0;_<o;_++)r="",(l=u.format("YYYY-MM-DD"))===d&&(r="ogx_calendar_layout_year_days_current "),l===s&&(r+="ogx_calendar_selected_item "),i+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_days '+r+'" data-ogx-date="'+l+'">'+t(moment(l),e)+"</div>",u.add(1,"days");return i},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.MONTH_WEEKS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){for(var r="",o=0;o<5;o++)css="",r+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_days '+css+'" data-ogx-date="'+fm+'">'+t(moment(fm),e)+"</div>",d.add(1,"days");return r},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.WEEK_DAYS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){for(var a="",t=function(){for(var a=new Date(Date.UTC(2017,0,2)),t=[],e=0;e<7;e++)t.push(a.toLocaleDateString(navigator.language,{weekday:"short"})),a.setDate(a.getDate()+1);return t}(),e=0;e<t.length;e++)a+='<span class="ogx_calendar_layout_month_days_label">'+t[e]+"</span>";return a},this.html=function(a,t,e,n){var r,o,l="",i=a.weekday(),d=a.subtract(i,"days"),u=moment().format("YYYY-MM-DD"),s="";n&&(s=n.format("YYYY-MM-DD"));for(var _=0;_<7;_++)r="",(o=d.format("YYYY-MM-DD"))===u&&(r="ogx_calendar_layout_week_days_current "),o===s&&(r+="ogx_calendar_selected_item "),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_week_days '+r+'" data-ogx-date="'+o+'">'+t(moment(o),e)+"</div>",d.add(1,"days");return l},this.value=function(){return{value:1,unit:"weeks"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.DAY_HOURS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){var r,o,l="",i=Number(moment().format("HH")),d=a.format("YYYY-MM-DD "),u=moment().format("YYYY-MM-DD "),s="",_="";n&&(s=Number(n.format("HH")),_=n.format("YYYY-MM-DD "));for(var c=0;c<24;c++)o="",c===i&&d===u&&(o="ogx_calendar_layout_days_hours_current "),c===s&&d===_&&(o+="ogx_calendar_selected_item "),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_days_hours '+o+'" data-ogx-date="'+(d+(r=c<10?"0"+c:String(c)))+':00">'+t(moment(d+r+":00"),e)+"</div>";return l},this.value=function(){return{value:1,unit:"days"}},this.format=function(){return"YYYY-MM-DD HH:[00]"}},OGX.CalendarLayout.DAY_WORK_HOURS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,e,n){e&&void 0!==e?e.hasOwnProperty("start")||(e.start=8,e.end=17):e={start:8,end:17};var r,o,l="",i=Number(moment().format("HH")),d=a.format("YYYY-MM-DD "),u=moment().format("YYYY-MM-DD "),s="",_="";n&&(s=Number(n.format("HH")),_=n.format("YYYY-MM-DD "));for(var c=e.start;c<e.end+1;c++)o="",c===i&&d===u&&(o="ogx_calendar_layout_days_work_hours_current "),c===s&&_===d&&(o+="ogx_calendar_selected_item "),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_days_work_hours '+o+'" data-ogx-date="'+(d+(r=c<10?"0"+c:c))+':00">'+t(moment(d+r+":00"),e)+"</div>";return l},this.value=function(){return{value:1,unit:"days"}},this.format=function(){return"YYYY-MM-DD HH:[00]"}},OGX.CalendarLayout.DAY=function(){"use strict";this.labels=function(a){return""},this.html=function(a,t,e,n){var r="",o=a.format("YYYY-MM-DD"),l=moment().format("YYYY-MM-DD");return n&&o===n.format("YYYY-MM-DD")&&(r+="ogx_calendar_layout_selected_item "),o===l&&(r+="ogx_calendar_layout_day_current "),'<div class="ogx_calendar_layout_item ogx_calendar_layout_day '+r+'" data-ogx-date="'+o+'">'+t(a,e)+"</div>"},this.value=function(){return{value:1,unit:"days"}},this.format=function(){return"YYYY-MM-DD"},this.select=function(a){}},OGX.CalendarEngine={},OGX.CalendarEngine.CELL_VALUE=function(a,t){var e=moment(a);return'<div class="ogx_calendar_engine_cell_value '+t.css+'">'+e.format(t.format)+"</div>"},OGX.CalendarEngine.DAY_NUMBER=function(a,t){return OGX.CalendarEngine.CELL_VALUE(a,{format:"DD",css:"ogx_calendar_engine_day_number"})},OGX.CalendarEngine.WEEK_NUMBER=function(a,t){return'<div class="ogx_calendar_engine_week_number">'+moment(a).week()+"</div>"},OGX.CalendarEngine.DECADE_NUMBER=function(a){return'<div class="ogx_calendar_engine_date_day_number">'+a+"</div>"},OGX.CalendarEngine.DAY_GRAPH=function(a){var t=moment(a),e=Math.round(1e4*Math.random()),n='<div class="ogx_calendar_engine_day_graph" data-graph="'+t.format("YYYY-MM-DD")+e+'"></div>';return setTimeout(function(){new Chartist.Line('.ogx_calendar_engine_day_graph[data-graph="'+t.format("YYYY-MM-DD")+e+'"]',{labels:["Monday","Tuesday","Wednesday","Thursday","Friday"],series:[[12,9,7,8,5],[2,1,3.5,7,3],[1,3,4,5,6]]},{fullWidth:!0,chartPadding:{right:40}})},0),n};