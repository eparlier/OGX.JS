if(void 0===OGX)var OGX=function(){};OGX.Calendar=function(a){"use strict";var t,n,e,i,d,r=this,s=a,o={date:moment(),layouts:[{layout:"MONTH_DAYS",engine:"DAY_NUMBER",config:!1}],layout:0,selectable:!0,swipable:!0,chromeos:!1},_=[],u=!1,l=!1,c={x:1,y:1};function f(a){a?n.on("click",".ogx_calendar_layout_item",m):n.off("click",".ogx_calendar_layout_item",m)}function m(a){var t=$(this);if(t.hasClass("ogx_calendar_selected_item"))return t.removeClass("ogx_calendar_selected_item"),u=!1,void r.el.trigger(OGX.Calendar.UNSELECT,t.data("ogx-date"));u&&u.removeClass("ogx_calendar_selected_item"),l=(u=t).data("ogx-date"),u.addClass("ogx_calendar_selected_item"),r.el.trigger(OGX.Calendar.SELECT,l)}function Y(a){a?(n.on(OGX.GridSwiper.SWIPE_LEFT,function(a,t){var n=_[d].value();y(n.value,n.unit)}),n.on(OGX.GridSwiper.SWIPE_RIGHT,function(a,t){var n=_[d].value();y(-1*n.value,n.unit)}),n.on(OGX.GridSwiper.SWIPE_UP,function(a,t){d=t.cell.y-1,h(),g()}),n.on(OGX.GridSwiper.SWIPE_DOWN,function(a,t){d=t.cell.y-1,h(),g()})):(n.off(OGX.GridSwiper.SWIPE_LEFT),n.off(OGX.GridSwiper.SWIPE_RIGHT),n.on(OGX.GridSwiper.SWIPE_UP),n.on(OGX.GridSwiper.SWIPE_DOWN))}function y(a,t){i.add(a,t),h()}function h(){var a=_[d].format();n.children(".ogx_calendar_head:first").children(".ogx_calendar_head_date:first").html(i.format(a))}function g(a){n.children(".ogx_calendar_head:first").children(".ogx_calendar_head_labels:first").html(a)}function v(a,t,n,e){var r=$(e),o=_[d].value(),u=i.clone().add(n.x*o.value,o.unit),l=_[a.y].html(u,OGX.CalendarEngine[s.layouts[a.y].engine],s.layouts[a.y].config);r.html(l)}this._NAME_=OGX.Calendar.NAME,this.el=null,this.destroy=function(){s.selectable&&f(!1),Y(!1),t.destroy()},void 0!==OGX.GridSwiper?"undefined"!=typeof moment?(function(){for(var a in o)s.hasOwnProperty(a)||(s[a]=o[a]);r.el=n=$(s.container),n.addClass("ogx_calendar"),moment.isMoment(s.date)||(s.date=moment(s.date)),i=s.date.clone(),d=s.layout,c.y=d+1}(),n.html('<div class="ogx_calendar_head"><div class="ogx_calendar_head_date"></div><div class="ogx_calendar_head_labels"></div></div><div class="ogx_calendar_body"></div>'),function(){e=[[!1,!1,!1]];for(var a=0;a<s.layouts.length;a++)e.push([v,v,v]);e.push([!1,!1,!1])}(),function(){for(var a=0;a<s.layouts.length;a++)_.push((t=s.layouts[a].layout,n={},OGX.CalendarLayout[t].prototype=Object.create(OGX.CalendarLayout.BASE_LAYOUT.prototype),OGX.CalendarLayout[t].prototype.constructor=OGX.CalendarLayout[t],new OGX.CalendarLayout[t](n)));var t,n}(),t=new OGX.GridSwiper({container:s.container+" .ogx_calendar_body:first",loop:!0,map:e,start:{x:1,y:1},chromeos:s.chromeos}),h(),Y(!0),s.selectable&&f(!0)):console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000"):console.log("%c CRITICAL ERROR - OGX.GridSwiper not found! ","background:#222; color: #FF0000")},OGX.Calendar.NAME="OgxCalendar",OGX.Calendar.SELECT="OgxCalendarSelect",OGX.Calendar.UNSELECT="OgxCalendarUnselect",OGX.CalendarLayout={},OGX.CalendarLayout.BASE_LAYOUT=function(){this.labels=function(a){return""},this.html=function(a,t,n){return""},this.value=function(){return{value:1,unit:"months"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.MONTH_DAYS=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){for(var a="",t=function(){for(var a=new Date(Date.UTC(2017,0,2)),t=[],n=0;n<7;n++)t.push(a.toLocaleDateString(navigator.language,{weekday:"short"})),a.setDate(a.getDate()+1);return t}(),n=0;n<t.length;n++)a+='<span class="ogx_calendar_layout_month_days_label">'+t[n]+"</span>";return a},this.html=function(a,t,n){for(var e,r=a.format("MM"),o=moment(a.format("YYYY-MM-")+"01").day(),u=moment(a.format("YYYY-MM-")+"01").subtract(o,"days"),l="",i=0;i<42;i++)e="",u.format("MM")!==r&&(e+="ogx_calendar_layout_month_days_offset "),u.format("YYYY-MM-DD")===moment().format("YYYY-MM-DD")&&(e+="ogx_calendar_layout_month_days_today "),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_month_days '+e+'" data-ogx-date="'+u.format("YYYY-MM-DD")+'">'+t(u.format("YYYY-MM-DD"),n)+"</div>",u.add(1,"days");return l},this.value=function(){return{value:1,unit:"months"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.CENTURY_DECADES=function(){"use strict";OGX.CalendarLayout.BASE_LAYOUT.call(this),this.labels=function(){return""},this.html=function(a,t,n){for(var e,r=100*Math.floor(Number(a.format("YYYY"))/100),o="",u=10*Math.floor(Number(moment().format("YYYY"))/10),l=0;l<10;l++)e="",u===r&&(e="ogx_calendar_layout_century_decades_current "),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_century_decades '+e+'" data-ogx-date="'+r+'">'+t(r,n)+"</div>",r+=10;return o},this.value=function(){return{value:100,unit:"years"}},this.format=function(){return"YYYY"}},OGX.CalendarLayout.CENTURY_YEARS=function(){this.labels=function(){return""},this.html=function(a,t,n){for(var e,r=100*Math.floor(Number(a.format("YYYY"))/100),o="",u=Number(moment().format("YYYY")),l=0;l<100;l++)e="",r+l===u&&(e+="ogx_calendar_layout_century_years_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_century_years '+e+'" data-ogx-date="'+(r+l)+'">'+t(r+l+"-01-01",n)+"</div>";return o},this.value=function(){return{value:100,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.DECADE_YEARS=function(){this.labels=function(){return""},this.html=function(a,t,n){for(var e,r=10*Math.floor(Number(a.format("YYYY"))/10),o="",u=Number(moment().format("YYYY")),l=0;l<10;l++)e="",r+l===u&&(e+="ogx_calendar_layout_decade_years_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_decade_years '+e+'" data-ogx-date="'+(r+l)+'">'+t(r+l+"-01-01",n)+"</div>";return o},this.value=function(){return{value:10,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.DECADE_MONTHS=function(){var s;this.labels=function(){for(var a="",t=0;t<10;t++)a+="<span>"+(s+t)+"</span>";return a},this.html=function(a,t,n){s=10*Math.floor(Number(a.format("YYYY"))/10);for(var e,r,o="",u=moment().format("YYYY-MM"),l=moment(s+"-01-01"),i=0;i<10;i++)for(var d=0;d<12;d++)r="",(e=l.format("YYYY-MM"))===u&&(r="ogx_calendar_layout_decade_months_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_decade_months '+r+'" data-ogx-date="'+e+'">'+t(e,n)+"</div>",l.add(1,"months");return o},this.value=function(){return{value:10,unit:"years"}},this.format=function(){return" "}},OGX.CalendarLayout.YEAR_MONTHS=function(){this.labels=function(){return""},this.html=function(a,t,n){for(var e,r,o=moment().format("YYYY-MM"),u=a.format("YYYY"),l="",i=1;i<13;i++)e="",u+"-"+(r=i<10?"0"+i:i)===o&&(e+="ogx_calendar_layout_year_months_current"),l+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_months '+e+'" data-ogx-date="'+u+"-"+r+'">'+t(u+"-"+r+"-01",n)+"</div>";return l},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.YEAR_WEEKS=function(){this.labels=function(){return""},this.html=function(a,t,n){for(var e,r,o=a.week(),u=a.format("YYYY"),l=moment().format("YYYY"),i="",d=1;d<53;d++)e="",o===d&&u===l&&(e="ogx_calendar_layout_year_weeks_current"),i+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_weeks '+e+'" data-ogx-date="'+(r=moment().year(u).week(d).format("YYYY-MM-DD"))+'">'+t(r,n)+"</div>";return i},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.YEAR_DAYS=function(){this.labels=function(){return""},this.html=function(a,t,n){var e,r,o,u="",l=a.format("YYYY-MM-DD"),i=moment(a.format("YYYY")+"-01-01");r=a.isLeapYear()?366:365;for(var d=0;d<r;d++)e="",(o=i.format("YYYY-MM-DD"))===l&&(e="ogx_calendar_layout_year_days_current"),u+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_days '+e+'" data-ogx-date="'+o+'">'+t(moment(o),n)+"</div>",i.add(1,"days");return u},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.MONTH_WEEKS=function(){this.labels=function(){return""},this.html=function(a,t,n){for(var e="",r=0;r<5;r++)css="",e+='<div class="ogx_calendar_layout_item ogx_calendar_layout_year_days '+css+'" data-ogx-date="'+fm+'">'+t(moment(fm),n)+"</div>",d.add(1,"days");return e},this.value=function(){return{value:1,unit:"years"}},this.format=function(){return"Y"}},OGX.CalendarLayout.WEEK_DAYS=function(){this.labels=function(){return""},this.html=function(a,t,n){for(var e,r,o="",u=7-a.day(),l=u+7,i=a.subtract(u,"days"),d=moment().format("YYYY-MM-DD"),s=u;s<l;s++)e="",(r=i.format("YYYY-MM-DD"))===d&&(e="ogx_calendar_layout_week_days_current"),o+='<div class="ogx_calendar_layout_item ogx_calendar_layout_week_days '+e+'" data-ogx-date="'+r+'">'+t(moment(r),n)+"</div>",i.add(1,"days");return o},this.value=function(){return{value:1,unit:"weeks"}},this.format=function(){return"YYYY-MM"}},OGX.CalendarLayout.DAY_HOURS=function(){this.labels=function(){return""},this.html=function(a,t,n){for(var e,r="",o=Number(a.format("HH")),u=a.format("YYYY-MM-DD "),l=moment().format("YYYY-MM-DD "),i=0;i<24;i++)css="",i===o&&u===l&&(css="ogx_calendar_layout_days_hours_current"),e=i<10?"0"+i:i,r+='<div class="ogx_calendar_layout_item ogx_calendar_layout_days_hours '+css+'" data-ogx-date="'+(u+e)+':00">'+t(moment(u+e+":00"),n)+"</div>";return r},this.value=function(){return{value:1,unit:"days"}},this.format=function(){return"YYYY-MM-DD"}},OGX.CalendarLayout.DAY_WORK_HOURS=function(){this.labels=function(){return""},this.html=function(a,t,n){n&&void 0!==n?n.hasOwnProperty("start")||(n.start=8,n.end=17):n={start:8,end:17};for(var e,r="",o=Number(a.format("HH")),u=a.format("YYYY-MM-DD "),l=moment().format("YYYY-MM-DD "),i=n.start;i<n.end+1;i++)css="",i===o&&u===l&&(css="ogx_calendar_layout_days_work_hours_current"),e=i<10?"0"+i:i,r+='<div class="ogx_calendar_layout_item ogx_calendar_layout_days_work_hours '+css+'" data-ogx-date="'+(u+e)+':00">'+t(moment(u+e+":00"),n)+"</div>";return r},this.value=function(){return{value:1,unit:"days"}},this.format=function(){return"YYYY-MM-DD"}},OGX.CalendarEngine={},OGX.CalendarEngine.CELL_VALUE=function(a,t){var n=moment(a);return'<div class="ogx_calendar_engine_cell_value '+t.css+'">'+n.format(t.format)+"</div>"},OGX.CalendarEngine.DAY_NUMBER=function(a,t){return OGX.CalendarEngine.CELL_VALUE(a,{format:"DD",css:"ogx_calendar_engine_day_number"})},OGX.CalendarEngine.WEEK_NUMBER=function(a,t){return'<div class="ogx_calendar_engine_week_number">'+moment(a).week()+"</div>"},OGX.CalendarEngine.DECADE_NUMBER=function(a){return'<div class="ogx_calendar_engine_date_day_number">'+a+"</div>"},OGX.CalendarEngine.DAY_GRAPH=function(a){var t=moment(a),n=Math.round(1e4*Math.random()),e='<div class="ogx_calendar_engine_day_graph" data-graph="'+t.format("YYYY-MM-DD")+n+'"></div>';return setTimeout(function(){new Chartist.Line('.ogx_calendar_engine_day_graph[data-graph="'+t.format("YYYY-MM-DD")+n+'"]',{labels:["Monday","Tuesday","Wednesday","Thursday","Friday"],series:[[12,9,7,8,5],[2,1,3.5,7,3],[1,3,4,5,6]]},{fullWidth:!0,chartPadding:{right:40}})},0),e};