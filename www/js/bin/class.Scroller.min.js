if(void 0===OGX)var OGX=function(){};OGX.Scroller=function(t){"use strict";var s,l,n,i,c,a,f,e,o,r,d,u,_,h,g,p,O,v,x=this,m=t,X={init_delay:0,off_x:0,off_y:0,fade_speed:300,check_delay:100,css:!1,zindex:9999,observe:!0,auto_scroll:!1,scroll_callback:!1,trigger:!1,mode:OGX.Scroller.MODE_MOBILE},S=0,E="init";function G(t){t?l.on(g,function(t){t=P(t),(new Date).getTime(),t.pageX,d=u=t.pageY,!1?h=setInterval(D,m.check_delay):clearInterval(h),w(!0),b(!0),G(!1),y("in"),T(!0)}):l.off(g)}function b(t){t?(_=setInterval(k,10),l.on(p,function(t){t=P(t),t.pageX,t.pageY,u=t.pageY})):(clearInterval(_),l.off(p))}function k(){0<(v=u-d)?1:-1,0===v&&0,d=u,D()}function w(t){t?$(document).on(O,function(){b(!1),w(!1),G(!0),s.off("transitionend"),y("out")}):$(document).off(O)}function L(t){t?(window.addEventListener("resize",I),l.on("scroll",function(t){t.stopImmediatePropagation(),D()}),void 0!==OGX.NestedList&&$(document).on(OGX.NestedList.OPENED+" "+OGX.NestedList.CLOSED,function(){x.update()})):(window.removeEventListener("resize",I),l.off("scroll"),void 0!==OGX.NestedList&&$(document).off(OGX.NestedList.OPENED+" "+OGX.NestedList.CLOSED))}function D(){var t,e=(t=l.scrollTop())/f;c.css("top",e+"px"),m.trigger&&$(m.container).trigger(OGX.Scroller.SCROLL,t),t>=Math.round(Math.abs(l.height()-s.height()))?$(m.container).trigger(OGX.Scroller.BOTTOM):0===t&&$(m.container).trigger(OGX.Scroller.TOP),m.scroll_callback&&m.scroll_callback()}function T(t){t?(o&&T(!1),e=s.position().top,o=setInterval(M,m.check_delay-10)):o&&(clearInterval(o),o=null)}function M(){var t=s.position().top;y(t!==e?"in":"out"),e=t}function y(t){m.fade_speed;var e=c.css("opacity");c.removeClass("ogx_scroller_track_anim_fade_in"),c.removeClass("ogx_scroller_track_anim_fade_out"),c.hasClass("ogx_scroller_track_anim")||c.addClass("ogx_scroller_track_anim"),"in"===t?c.addClass("ogx_scroller_track_anim_fade_in"):c.addClass("ogx_scroller_track_anim_fade_out")}function C(t){t?(r=new MutationObserver(function(){S!==s.height()&&(S=s.height(),I(),m.auto_scroll&&x.bottom())})).observe(s[0],{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","src","width","height"]}):r&&(r.disconnect(),r=null)}function I(){if(i=l.innerHeight(),l.innerWidth(),n=s.height(),f=n/i,i<n){var t=Math.round(i/f);c.css("height",t+"px");var e=c.width();m.css?(l.find("."+m.css+":fast").css("height",t+"px"),l.find("."+m.css+":fast").css("left",l.width()-e+"px")):(l.find(".ogx_scroller_track:first").css("height",i+"px"),l.find(".ogx_scroller_track:first").css("left",l.width()-e+"px"));var o=l.position().left+l.outerWidth()-c.width()+m.off_x,r=l.position().top;a.css("left",o+"px"),a.css("top",r+"px")}"init"===E&&(E=OGX.Scroller.READY,x.el.trigger(OGX.Scroller.READY))}function P(t){return t.hasOwnProperty("originalEvent")?t.originalEvent.changedTouches[0]:t}this.el=null,this.getState=function(){return E},this.update=function(){I()},this.top=function(){i<n&&(l[0].scrollTop=0,I())},this.bottom=function(){i<n&&(l.scrollTop(n),I())},this.observe=function(t){m.observe!==t&&C(m.observe=t)},this.getContainer=function(){return s},this.getState=function(){return E},this.getInner=function(){return s[0]},this.getOuter=function(){return l[0]},this.destroy=function(){C(!1),L(!1),T(!1),x.el.removeClass("ogx_scroller_outer"),s.remove(),a.remove()},function(){for(var t in X)m.hasOwnProperty(t)||(m[t]=X[t])}(),function(){switch(m.mode){case OGX.Scroller.MODE_MOBILE:g="touchstart",O="touchend",p="touchmove";break;case OGX.Scroller.MODE_DESKTOP:g="mousedown",O="mouseup",p="mousemove"}}(),function(){x.el=$(m.container),x.el.addClass("ogx_scroller_outer");var t=(l=x.el).html(),e=l.position().top,o=l.height();l.html('<div class="ogx_scroller_inner ogx_hw"></div>'),(s=l.children(".ogx_scroller_inner:first")).html(t);var r="";m.css&&(r=" "+m.css);var n='<div class="ogx_scroller_track ogx_hw'+r+' " style="top:'+e+"px; height:"+o+"px; z-index:"+m.zindex+';"><div class="ogx_scroller_track_button"></div></div>';l.parent(0).prepend(n),a=m.css?l.parent(0).find("."+m.css+":last"):l.parent(0).find(".ogx_scroller_track:first"),c=a.find(".ogx_scroller_track_button:first");var i=l.position().left+l.outerWidth()-c.width()+m.off_x;e+=m.off_y,a.css("left",i+"px"),a.css("top",e+"px")}(),setTimeout(I,m.init_delay),L(!0),G(!0),m.observe&&C(!0)},OGX.Scroller.READY="scrollerReady",OGX.Scroller.TOP="scrollerTop",OGX.Scroller.BOTTOM="scrollerBottom",OGX.Scroller.SCROLL="scrollerScroll",OGX.Scroller.MODE_DESKTOP="desktop",OGX.Scroller.MODE_MOBILE="mobile";