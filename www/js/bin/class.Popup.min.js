if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Popup=function(t){"use strict";function o(t){t?v.el.on("click",".ogx_popup_button",function(){var t=$(this).index();"object"==typeof y.buttons[t]?y.buttons[t].hasOwnProperty("callback")&&y.buttons[t].callback&&(y.buttons[t].hasOwnProperty("params")?y.buttons[t].callback.apply(null,[y.buttons[t].params]):y.buttons[t].callback()):v.el.trigger(OGX.Popup.CLICK_BUTTON,{index:t,value:y.buttons[t]})}):v.el.off("click",".ogx_popup_button")}function e(t){t?v.el.on(d,".ogx_popup_title",function(t){t=i(t),g=t.pageX,O=t.pageY,G=v.el.position().left,h=v.el.position().top,b=0,x=0,n(!0),$("body").on(f,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=i(t),b=t.pageX-g,x=t.pageY-O}),$("body").on(c,function(t){n(!1),$("body").off(f),$("body").off(c),t=i(t),b=t.pageX-g,x=t.pageY-O})}):v.el.off(d,".ogx_popup_title")}function n(t){t?m||(m=setInterval(p,10)):m&&(clearInterval(m),m=null)}function p(){v.el.css({transform:"translate3D("+(G+b)+"px, "+(h+x)+"px, 0px)"})}function i(t){return t.hasOwnProperty("originalEvent")?t.originalEvent.changedTouches[0]:t}function l(){var t=$(y.container).width(),o=$(y.container).height(),e=y.width,n=y.height;"string"==typeof e&&e.indexOf("%")!==-1&&(e=Number(e.split("%")[0]),e=Math.round(e*t/100)),"string"==typeof n&&n.indexOf("%")!==-1&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100));var p=Math.round(t/2-e/2),i=Math.round(o/2-n/2);return{x:p,y:i,w:e,h:n}}function r(){var t=l(),o="";y.zindex&&(o="zindex:"+y.zindex+";");var e='<div class="ogx_popup" style="width:'+t.w+"px; height:"+t.h+"px; transform:translate3d("+t.x+"px, "+t.y+"px, 0); "+o+'">';if(y.title&&(e+='<div class="ogx_popup_title">'+y.title+"</div>"),e+='<div class="ogx_popup_body '+y.css+'">',y.html?e+=y.html:y.template&&(e+=OGX.Templater.templatize(y.data,OGX.Templater.getTemplate(y.template))),e+="</div>",y.buttons.length>0){e+='<div class="ogx_popup_buttons">';for(var n=0;n<y.buttons.length;n++)e+="object"==typeof y.buttons[n]?'<span class="ogx_popup_button">'+y.buttons[n].label+"</span>":'<span class="ogx_popup_button">'+y.buttons[n]+"</span>";e+="</div>"}e+="</div>",u.prepend(e)}function s(){for(var t in X)y.hasOwnProperty(t)||(y[t]=X[t]);switch(y.mode){case OGX.Popup.MODE_MOBILE:d="touchstart",c="touchend",f="touchmove";break;case OGX.Popup.MODE_DESKTOP:d="mousedown",c="mouseup",f="mousemove"}u=$(y.container),v.scroll=y.scroll,v.zindex=y.zindex,v.anim=y.anim}function a(){if("undefined"==typeof OGX.Templater)return void console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000");if(s(),r(),v.el=u.find(".ogx_popup:first"),u=v.el.find(".ogx_view:first"),y.scroll){if("undefined"==typeof OGX.Scroller)return void console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");var t=v.el.find(".ogx_popup_body:first");_=new OGX.Scroller({container:t[0],init_delay:100,observe:!0,nartual_scroll:y.nartual_scroll}),t.on(OGX.Scroller.READY,function(){t.off(OGX.Scroller.READY),u=_.getContainer(),v.el.trigger(OGX.Popup.READY),v.ready=!0})}else v.ready=!0;y.buttons.length&&o(!0),y.drag&&e(!0),y.scroll||(v.ready=!0)}var u,c,d,f,h,g,O,b,x,m,_,v=this,y=t,X={container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",view:!1,drag:!1,scroll:!1,data:{},buttons:[],anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:0,mode:OGX.Popup.MODE_MOBILE},G=!1;this.snooze=!1,this.scroll=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.blur=function(){y.buttons.length&&o(!1),v.snooze=!0},this.focus=function(){y.buttons.length&&o(!0),v.snooze=!1},this.resize=function(t,o){y.width=t,y.height=o;var e=l();v.el.css("width",e.w+"px"),v.el.css("height",e.h+"px"),v.el.css({transform:"translate3D("+e.x+"px, "+e.y+"px, 0px)"})},this.center=function(){var t=l();v.el.css({transform:"translate3D("+t.x+"px, "+t.y+"px, 0px)"})},this.updateScroller=function(){_&&_.update()},this.destroy=function(){y.buttons.length&&o(!1),y.drag&&(e(!1),n(!1)),y.scroll&&_&&_.destroy()},a()},OGX.Popup=function(t){"use strict";return new OGX.prototype.Popup(t)},OGX.Popup.READY="popupReady",OGX.Popup.CLICK_BUTTON="popupClickButton",OGX.Popup.MODE_DESKTOP="modeDesktop",OGX.Popup.MODE_MOBILE="modeMobile",OGX.Popup.NOANIM="popupNoAnim",OGX.Popup.ANIM_FADE="popupAnimFade";