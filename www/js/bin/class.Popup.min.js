if(void 0===OGX)var OGX=function(){};OGX.Popup=function(t){"use strict";var s,n,i,p,a,r,o,e,l,u,c,d=this,f=t,g={name:null,container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",icon:!1,icons:!1,view:!1,drag:!1,scroll:!1,resize:!1,center:!0,tabs:!1,views:!1,data:{},buttons:[],buttons_enabled:!0,style:OGX.Popup.STYLE_HEAD,anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:12e3,chromeos:!1},h=!1,b="mousedown",_="mouseup",x="mousemove";function v(t){t?d.el.on(b,".ogx_popup_icons_icon",function(t){t.preventDefault(),t.stopImmediatePropagation();var o=f.icons[$(this).index()];o.hasOwnProperty("callback")?o.callback(o):d.el.trigger(OGX.Popup.CLICK_ICON,o)}):d.el.off(b,".ogx_popup_icons_icon")}function m(t,o){void 0===o&&(o=!1);var e=b;f.chromeos&&(e="mousedown"),t?f.buttons_enabled&&!o||(f.buttons_enabled=!0,d.el.children(".ogx_popup_buttons:first").removeClass("ogx_popup_buttons_disabled"),d.el.on(e,".ogx_popup_button",function(t){t.preventDefault(),t.stopImmediatePropagation();var o=$(this).index();"object"==typeof f.buttons[o]?f.buttons[o].hasOwnProperty("callback")&&f.buttons[o].callback&&(f.buttons[o].hasOwnProperty("params")?f.buttons[o].callback.apply(null,[f.buttons[o].params]):f.buttons[o].callback()):d.el.trigger(OGX.Popup.CLICK_BUTTON,{index:o,value:f.buttons[o]})})):f.buttons_enabled&&(f.buttons_enabled=!1,d.el.children(".ogx_popup_buttons:first").addClass("ogx_popup_buttons_disabled"),d.el.off(e,".ogx_popup_button"))}function O(t){t?d.el.on(b,".ogx_popup_resize",function(t){t.preventDefault(),t.stopImmediatePropagation(),t=z(t),i=t.pageX,p=t.pageY,e=$(this),h=d.el.position().left,n=d.el.position().top,X(!(r=a=0)),$("body").on(x,y),$("body").on(_,w)}):d.el.off(b,".ogx_popup_resize")}function y(t){t.preventDefault(),t.stopImmediatePropagation(),t=z(t),a=t.pageX-i,r=t.pageY-p,i=t.pageX,p=t.pageY}function w(t){X(!1),$("body").off(x,y),$("body").off(_,w),t=z(t),a=t.pageX-i,r=t.pageY-p}function X(t){t?o||(o=setInterval(P,10)):o&&(clearInterval(o),o=null)}function P(){var t=d.el.width(),o=d.el.height();e.index()||(d.el.css({transform:"translate3D("+(h+-1*a)+"px, "+(n+r)+"px, 0px)"}),h+=a,a*=-1),99<t+a&&d.el.width(t+a),99<o+r&&d.el.height(o+r),(a||r)&&f.tabs&&(c.resize(),u.resize()),r=a=0}function G(t){function o(t){t.preventDefault(),t.stopImmediatePropagation(),t=z(t),a=t.pageX-i,r=t.pageY-p}function e(t){I(!1),$("body").off(x,o),$("body").off(_,e),t=z(t),a=t.pageX-i,r=t.pageY-p}t?d.el.on(b,".ogx_popup_title",function(t){t.preventDefault(),t.stopImmediatePropagation(),d.bringToFront(),t=z(t),i=t.pageX,p=t.pageY,h=d.el.position().left,n=d.el.position().top,I(!(r=a=0)),$("body").on(x,o),$("body").on(_,e)}):(d.el.off(b,".ogx_popup_title"),$("body").off(x,o),$("body").off(_,e))}function I(t){t?o||(o=setInterval(E,10)):o&&(clearInterval(o),o=null)}function E(){d.el.css({transform:"translate3D("+(h+a)+"px, "+(n+r)+"px, 0px)"})}function z(t){return t.hasOwnProperty("originalEvent")&&void 0!==t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}function C(){var t=$(f.container),o=t.width(),e=t.height(),n=f.width,i=f.height;return"string"==typeof n&&-1!==n.indexOf("%")&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100)),"string"==typeof i&&-1!==i.indexOf("%")&&(i=Number(i.split("%")[0]),i=Math.round(i*e/100)),{x:Math.round(o/2-n/2),y:Math.round(e/2-i/2),w:n,h:i}}function T(){var e,n=0;return $(f.container).children(".ogx_popup").each(function(t,o){e=Number($(o).css("z-index")),n<e&&(n=e)}),n+1}function A(){for(var t="",o=0;o<f.buttons.length;o++)0<f.buttons.length&&("object"==typeof f.buttons[o]?t+='<span class="ogx_popup_button">'+f.buttons[o].label+"</span>":t+='<span class="ogx_popup_button">'+f.buttons[o]+"</span>");return t}function D(){s.on(OGX.ViewSwiper.READY,function(){s.off(OGX.ViewSwiper.READY)}),u=new OGX.Tabs({container:s.children(".ogx_popup_tabs:first")[0],tabs:f.tabs,editable:!1,value:f.tabs[0].value}),(c=new OGX.ViewSwiper({enabled:!1,container:s.children(".ogx_popup_swiper_container:first").children(".ogx_popup_swiper:first")[0],core:f.core,views:f.views})).bind({object:u,property:"tabs"})}this._NAME_=OGX.Popup.NAME,this.snooze=!1,this.scroll=!1,this.tabbed=!1,this.centered=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.setIcon=function(t){f.icon=t,this.el.children(".ogx_popup_head:first").children(".ogx_popup_icon:first").css("background-image","url("+t+")")},this.getView=function(t){return!(!this.tabbed||!c)&&c.getViewView(t)},this.getViews=function(t){return!(!this.tabbed||!c)&&c.getContainers()},this.getCurrent=function(){return!(!this.tabbed||!c)&&c.getView()},this.getContainers=function(){return!(!this.tabbed||!c)&&c.getContainers()},this.setButtons=function(t){f.buttons=t;var o=A();this.el.children(".ogx_popup_buttons:first").html(o)},this.enableButtons=function(){m(!0)},this.disableButtons=function(){m(!1)},this.bringToFront=function(){var t=T();this.el.css("z-index",t)},this.blur=function(){m(!1),this.snooze=!0},this.focus=function(){m(!0),this.snooze=!1},this.resize=function(t,o){f.width=t,f.height=o;var e=C();d.el.css("width",e.w+"px"),d.el.css("height",e.h+"px"),d.el.css({transform:"translate3D("+e.x+"px, "+e.y+"px, 0px)"})},this.center=function(){var t=C();d.el.css("width",t.w+"px"),d.el.css("height",t.h+"px"),d.el.css({transform:"translate3D("+t.x+"px, "+t.y+"px, 0px)"})},this.autoSize=function(){var t=C();d.el.css("width",t.w+"px"),d.el.css("height",t.h+"px")},this.move=function(t,o){null===t&&(t=d.el.position().left),null===o&&(o=d.el.position().top),d.el.css({transform:"translate3D("+t+"px, "+o+"px, 0px)"})},this.updateScroller=function(){l&&l.update()},this.destroy=function(){m(!1),f.drag&&(G(!1),I(!1)),f.resize&&(O(!1),X(!1)),f.icons&&v(!1),f.scroll&&l&&l.destroy(),f.tabs&&(void 0!==c&&c.destroy(),void 0!==u&&u.destroy())},function(){if(void 0!==OGX.Templater){if(function(){for(var t in g)f.hasOwnProperty(t)||(f[t]=g[t]);s=$(f.container),d.scroll=f.scroll,d.tabbed=Boolean(f.tabs),d.zindex=f.zindex,d.anim=f.anim,d.centered=f.center,void 0!==window.ontouchstart&&(b="touchstart",x="touchmove",_="touchend")}(),function(){var t=C(),o=T();o<1e3&&(o=f.zindex);var e="z-index:"+o+";",n='<div class="ogx_popup" style="width:'+t.w+"px; height:"+t.h+"px; transform:translate3d("+t.x+"px, "+t.y+"px, 0); "+e+'" data-ogx="'+f.name+'">';if(f.icon||f.title||f.icons||f.style===OGX.Popup.STYLE_HEAD||f.drag){if(n+='<div class="ogx_popup_head">',f.icon&&(n+='<div class="ogx_popup_icon" style="background-image:url(\''+f.icon+"')\"></div>"),f.title&&(n+='<div class="ogx_popup_title">'+f.title+"</div>"),f.icons){n+='<div class="ogx_popup_icons">';for(var i=0;i<f.icons.length;i++)"string"==typeof f.icons[i]?n+='<div class="ogx_popup_icons_icon" style="background-image:url(\''+f.icons[i]+"')\"></div>":n+='<div class="ogx_popup_icons_icon" style="background-image:url(\''+f.icons[i].icon+"')\"></div>";n+="</div>"}n+="</div>"}n+='<div class="ogx_popup_body '+f.css+'">',f.tabs?n+='<div class="ogx_popup_tabs"></div><div class="ogx_popup_swiper_container"><div class="ogx_popup_swiper"></div></div>':f.html?n+=f.html:f.template&&(n+=OGX.Templater.templatize(f.data,OGX.Templater.getTemplate(f.template))),n+="</div>",f.buttons&&f.buttons.length&&(n+='<div class="ogx_popup_buttons">',n+=A(),n+="</div>"),f.resize&&(n+='<div class="ogx_popup_resizes"><span class="ogx_popup_resize"></span><span class="ogx_popup_resize"></span></div>'),n+="</div>",s.prepend(n)}(),d.el=s.find(".ogx_popup:first"),s=d.el.find(".ogx_popup_body:first"),f.tabs){if(void 0===OGX.Tabs)return console.log("%c CRITICAL ERROR - OGX.Tabs not found! ","background:#222; color: #FF0000");setTimeout(D,5),d.ready=!0}else if(f.scroll){if(void 0===OGX.Scroller)return console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");l=new OGX.Scroller({container:s[0],init_delay:100,observe:!0}),s.on(OGX.Scroller.READY,function(){s.off(OGX.Scroller.READY),s=l.getContainer(),d.el.trigger(OGX.Popup.READY),d.ready=!0})}else d.ready=!0;f.buttons_enabled&&m(!0,!0),f.drag&&G(!0),f.resize&&O(!0),f.icons&&v(!0),d.ready&&d.el.trigger(OGX.Popup.READY)}else console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000")}()},OGX.Popup.NAME="OgxPopup",OGX.Popup.READY="PopupReady",OGX.Popup.CLICK_BUTTON="PopupClickButton",OGX.Popup.CLICK_ICON="PopupClickIcon",OGX.Popup.NOANIM="PopupNoAnim",OGX.Popup.ANIM_FADE="PopupAnimFade",OGX.Popup.STYLE_HEAD="PopupStyleHead",OGX.Popup.STYLE_NONE="PopupStyleNone";