if(void 0===OGX)var OGX=function(){};OGX.Popup=function(t){"use strict";var p,o,e,n,i,l,a,s,r,u,c,d=this,f=t,h={container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",view:!1,drag:!1,scroll:!1,data:{},buttons:[],anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:0,mode:OGX.Popup.MODE_MOBILE},g=!1;function O(t){t?d.el.on(e,".ogx_popup_button",function(t){t.preventDefault(),t.stopImmediatePropagation();var o=$(this).index();"object"==typeof f.buttons[o]?f.buttons[o].hasOwnProperty("callback")&&f.buttons[o].callback&&(f.buttons[o].hasOwnProperty("params")?f.buttons[o].callback.apply(null,[f.buttons[o].params]):f.buttons[o].callback()):d.el.trigger(OGX.Popup.CLICK_BUTTON,{index:o,value:f.buttons[o]})}):d.el.off(e,".ogx_popup_button")}function b(t){t?d.el.on(e,".ogx_popup_title",function(t){t.preventDefault(),t.stopImmediatePropagation(),t=v(t),l=t.pageX,a=t.pageY,g=d.el.position().left,i=d.el.position().top,x(!(r=s=0)),$("body").on(n,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=v(t),s=t.pageX-l,r=t.pageY-a}),$("body").on(o,function(t){x(!1),$("body").off(n),$("body").off(o),t=v(t),s=t.pageX-l,r=t.pageY-a})}):d.el.off(e,".ogx_popup_title")}function x(t){t?u||(u=setInterval(m,10)):u&&(clearInterval(u),u=null)}function m(){d.el.css({transform:"translate3D("+(g+s)+"px, "+(i+r)+"px, 0px)"})}function v(t){return t.hasOwnProperty("originalEvent")?t.originalEvent.changedTouches[0]:t}function _(){var t=$(f.container).width(),o=$(f.container).height(),e=f.width,n=f.height;return"string"==typeof e&&-1!==e.indexOf("%")&&(e=Number(e.split("%")[0]),e=Math.round(e*t/100)),"string"==typeof n&&-1!==n.indexOf("%")&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100)),{x:Math.round(t/2-e/2),y:Math.round(o/2-n/2),w:e,h:n}}this.snooze=!1,this.scroll=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.blur=function(){f.buttons.length&&O(!1),d.snooze=!0},this.focus=function(){f.buttons.length&&O(!0),d.snooze=!1},this.resize=function(t,o){f.width=t,f.height=o;var e=_();d.el.css("width",e.w+"px"),d.el.css("height",e.h+"px"),d.el.css({transform:"translate3D("+e.x+"px, "+e.y+"px, 0px)"})},this.center=function(){var t=_();d.el.css({transform:"translate3D("+t.x+"px, "+t.y+"px, 0px)"})},this.updateScroller=function(){c&&c.update()},this.destroy=function(){f.buttons.length&&O(!1),f.drag&&(b(!1),x(!1)),f.scroll&&c&&c.destroy()},function(){if(void 0!==OGX.Templater){if(function(){for(var t in h)f.hasOwnProperty(t)||(f[t]=h[t]);switch(f.mode){case OGX.Popup.MODE_MOBILE:e="touchstart",o="touchend",n="touchmove";break;case OGX.Popup.MODE_DESKTOP:e="mousedown",o="mouseup",n="mousemove"}p=$(f.container),d.scroll=f.scroll,d.zindex=f.zindex,d.anim=f.anim}(),function(){var t=_(),o="";f.zindex&&(o="zindex:"+f.zindex+";");var e='<div class="ogx_popup" style="width:'+t.w+"px; height:"+t.h+"px; transform:translate3d("+t.x+"px, "+t.y+"px, 0); "+o+'">';if(f.title&&(e+='<div class="ogx_popup_title">'+f.title+"</div>"),e+='<div class="ogx_popup_body '+f.css+'">',f.html?e+=f.html:f.template&&(e+=OGX.Templater.templatize(f.data,OGX.Templater.getTemplate(f.template))),e+="</div>",0<f.buttons.length){e+='<div class="ogx_popup_buttons">';for(var n=0;n<f.buttons.length;n++)"object"==typeof f.buttons[n]?e+='<span class="ogx_popup_button">'+f.buttons[n].label+"</span>":e+='<span class="ogx_popup_button">'+f.buttons[n]+"</span>";e+="</div>"}e+="</div>",p.prepend(e)}(),d.el=p.find(".ogx_popup:first"),p=d.el.find(".ogx_view:first"),f.scroll){if(void 0===OGX.Scroller)return console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");var t=d.el.find(".ogx_popup_body:first");c=new OGX.Scroller({container:t[0],init_delay:100,observe:!0,nartual_scroll:f.nartual_scroll}),t.on(OGX.Scroller.READY,function(){t.off(OGX.Scroller.READY),p=c.getContainer(),d.el.trigger(OGX.Popup.READY),d.ready=!0})}else d.ready=!0;f.buttons.length&&O(!0),f.drag&&b(!0),f.scroll||(d.ready=!0)}else console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000")}()},OGX.Popup.READY="popupReady",OGX.Popup.CLICK_BUTTON="popupClickButton",OGX.Popup.MODE_DESKTOP="modeDesktop",OGX.Popup.MODE_MOBILE="modeMobile",OGX.Popup.NOANIM="popupNoAnim",OGX.Popup.ANIM_FADE="popupAnimFade";