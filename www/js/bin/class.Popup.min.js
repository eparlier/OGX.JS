if(void 0===OGX)var OGX=function(){};OGX.Popup=function(o){"use strict";var s,t,n,e,i,p,r,a,l,u,c=this,d=o,g={name:null,container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",icon:!1,icons:!1,view:!1,drag:!1,scroll:!1,tabs:!1,views:!1,data:{},buttons:[],anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:12e3},f=!1,h="mousedown",b="mouseup",_="mousemove";function v(o){o?c.el.on(h,".ogx_popup_icons_icon",function(o){o.preventDefault(),o.stopImmediatePropagation();var t=d.icons[$(this).index()];t.hasOwnProperty("callback")?t.callback(t):c.el.trigger(OGX.Popup.CLICK_ICON,t)}):c.el.off(h,".ogx_popup_icons_icon")}function x(o){o?c.el.on(h,".ogx_popup_button",function(o){o.preventDefault(),o.stopImmediatePropagation();var t=$(this).index();"object"==typeof d.buttons[t]?d.buttons[t].hasOwnProperty("callback")&&d.buttons[t].callback&&(d.buttons[t].hasOwnProperty("params")?d.buttons[t].callback.apply(null,[d.buttons[t].params]):d.buttons[t].callback()):c.el.trigger(OGX.Popup.CLICK_BUTTON,{index:t,value:d.buttons[t]})}):c.el.off(h,".ogx_popup_button")}function m(o){o?c.el.on(h,".ogx_popup_title",function(o){o.preventDefault(),o.stopImmediatePropagation(),c.bringToFront(),o=y(o),n=o.pageX,e=o.pageY,f=c.el.position().left,t=c.el.position().top,O(!(p=i=0)),$("body").on(_,function(o){o.preventDefault(),o.stopImmediatePropagation(),o=y(o),i=o.pageX-n,p=o.pageY-e}),$("body").on(b,function(o){O(!1),$("body").off(_),$("body").off(b),o=y(o),i=o.pageX-n,p=o.pageY-e})}):c.el.off(h,".ogx_popup_title")}function O(o){o?r||(r=setInterval(w,10)):r&&(clearInterval(r),r=null)}function w(){c.el.css({transform:"translate3D("+(f+i)+"px, "+(t+p)+"px, 0px)"})}function y(o){return o.hasOwnProperty("originalEvent")&&void 0!==o.originalEvent.changedTouches?o.originalEvent.changedTouches[0]:o}function X(){var o=$(d.container).width(),t=$(d.container).height(),n=d.width,e=d.height;return"string"==typeof n&&-1!==n.indexOf("%")&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100)),"string"==typeof e&&-1!==e.indexOf("%")&&(e=Number(e.split("%")[0]),e=Math.round(e*t/100)),{x:Math.round(o/2-n/2),y:Math.round(t/2-e/2),w:n,h:e}}function G(){var n,e=0;return $(d.container).children(".ogx_popup").each(function(o,t){n=Number($(t).css("z-index")),e<n&&(e=n)}),e+1}function P(){s.on(OGX.ViewSwiper.READY,function(){s.off(OGX.ViewSwiper.READY)}),l=new OGX.Tabs({container:s.children(".ogx_popup_tabs:first")[0],tabs:d.tabs,editable:!1,value:d.tabs[0].value}),(u=new OGX.ViewSwiper({enabled:!1,container:s.children(".ogx_popup_swiper_container:first").children(".ogx_popup_swiper:first")[0],core:d.core,views:d.views})).bind({object:l,property:"tabs"})}this._NAME_=OGX.Popup.NAME,this.snooze=!1,this.scroll=!1,this.tabbed=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.setIcon=function(o){d.icon=o,this.el.children(".ogx_popup_head:first").children(".ogx_popup_icon:first").css("background-image",url(o))},this.getView=function(o){return!(!this.tabbed||!u)&&u.getViewView(o)},this.getViews=function(o){return!(!this.tabbed||!u)&&u.getContainers()},this.getCurrent=function(){return!(!this.tabbed||!u)&&u.getView()},this.getContainers=function(){return!(!this.tabbed||!u)&&u.getContainers()},this.bringToFront=function(){var o=G();c.el.css("z-index",o)},this.blur=function(){d.buttons.length&&x(!1),c.snooze=!0},this.focus=function(){d.buttons.length&&x(!0),c.snooze=!1},this.resize=function(o,t){d.width=o,d.height=t;var n=X();c.el.css("width",n.w+"px"),c.el.css("height",n.h+"px"),c.el.css({transform:"translate3D("+n.x+"px, "+n.y+"px, 0px)"})},this.center=function(){var o=X();c.el.css({transform:"translate3D("+o.x+"px, "+o.y+"px, 0px)"})},this.move=function(o,t){null===o&&(o=c.el.position().left),null===t&&(t=c.el.position().top),c.el.css({transform:"translate3D("+o+"px, "+t+"px, 0px)"})},this.updateScroller=function(){a&&a.update()},this.destroy=function(){d.buttons.length&&x(!1),d.drag&&(m(!1),O(!1)),d.icons&&v(!1),d.scroll&&a&&a.destroy(),d.tabs&&(void 0!==u&&u.destroy(),void 0!==l&&l.destroy())},function(){if(void 0!==OGX.Templater){if(function(){for(var o in g)d.hasOwnProperty(o)||(d[o]=g[o]);s=$(d.container),c.scroll=d.scroll,c.tabbed=Boolean(d.tabs),c.zindex=d.zindex,c.anim=d.anim,void 0!==window.ontouchstart&&(h="touchstart",_="touchmove",b="touchend")}(),function(){var o=X(),t=G();t<1e3&&(t=d.zindex);var n="z-index:"+t+";",e='<div class="ogx_popup" style="width:'+o.w+"px; height:"+o.h+"px; transform:translate3d("+o.x+"px, "+o.y+"px, 0); "+n+'" data-ogx="'+d.name+'">';if(e+='<div class="ogx_popup_head">',d.icon&&(e+='<div class="ogx_popup_icon" style="background-image:url(\''+d.icon+"')\"></div>"),d.title&&(e+='<div class="ogx_popup_title">'+d.title+"</div>"),d.icons){e+='<div class="ogx_popup_icons">';for(var i=0;i<d.icons.length;i++)"string"==typeof d.icons[i]?e+='<div class="ogx_popup_icons_icon" style="background-image:url(\''+d.icons[i]+"')\"></div>":e+='<div class="ogx_popup_icons_icon" style="background-image:url(\''+d.icons[i].icon+"')\"></div>";e+="</div>"}if(e+="</div>",e+='<div class="ogx_popup_body '+d.css+'">',d.tabs?e+='<div class="ogx_popup_tabs"></div><div class="ogx_popup_swiper_container"><div class="ogx_popup_swiper"></div></div>':d.html?e+=d.html:d.template&&(e+=OGX.Templater.templatize(d.data,OGX.Templater.getTemplate(d.template))),e+="</div>",0<d.buttons.length){for(e+='<div class="ogx_popup_buttons">',i=0;i<d.buttons.length;i++)"object"==typeof d.buttons[i]?e+='<span class="ogx_popup_button">'+d.buttons[i].label+"</span>":e+='<span class="ogx_popup_button">'+d.buttons[i]+"</span>";e+="</div>"}e+="</div>",s.prepend(e)}(),c.el=s.find(".ogx_popup:first"),s=c.el.find(".ogx_popup_body:first"),d.tabs){if(void 0===OGX.Tabs)return console.log("%c CRITICAL ERROR - OGX.Tabs not found! ","background:#222; color: #FF0000");setTimeout(P,5),c.ready=!0}else if(d.scroll){if(void 0===OGX.Scroller)return console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");a=new OGX.Scroller({container:s[0],init_delay:100,observe:!0}),s.on(OGX.Scroller.READY,function(){s.off(OGX.Scroller.READY),s=a.getContainer(),c.el.trigger(OGX.Popup.READY),c.ready=!0})}else c.ready=!0;d.buttons.length&&x(!0),d.drag&&m(!0),d.icons&&v(!0),c.ready&&c.el.trigger(OGX.Popup.READY)}else console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000")}()},OGX.Popup.NAME="OgxPopup",OGX.Popup.READY="PopupReady",OGX.Popup.CLICK_BUTTON="PopupClickButton",OGX.Popup.CLICK_ICON="PopupClickIcon",OGX.Popup.NOANIM="PopupNoAnim",OGX.Popup.ANIM_FADE="PopupAnimFade";