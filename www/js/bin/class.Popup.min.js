if(void 0===OGX)var OGX=function(){};OGX.Popup=function(o){"use strict";var p,n,i,s,a,r,t,e,l,u,c,d=this,g=o,f={name:null,container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",icon:!1,icons:!1,view:!1,drag:!1,scroll:!1,resize:!1,tabs:!1,views:!1,data:{},buttons:[],style:OGX.Popup.STYLE_HEAD,anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:12e3,chromeos:!1},h=!1,b="mousedown",_="mouseup",v="mousemove";function x(o){o?d.el.on(b,".ogx_popup_icons_icon",function(o){o.preventDefault(),o.stopImmediatePropagation();var t=g.icons[$(this).index()];t.hasOwnProperty("callback")?t.callback(t):d.el.trigger(OGX.Popup.CLICK_ICON,t)}):d.el.off(b,".ogx_popup_icons_icon")}function m(o){var t=b;g.chromeos&&(t="mousedown"),o?d.el.on(t,".ogx_popup_button",function(o){o.preventDefault(),o.stopImmediatePropagation();var t=$(this).index();"object"==typeof g.buttons[t]?g.buttons[t].hasOwnProperty("callback")&&g.buttons[t].callback&&(g.buttons[t].hasOwnProperty("params")?g.buttons[t].callback.apply(null,[g.buttons[t].params]):g.buttons[t].callback()):d.el.trigger(OGX.Popup.CLICK_BUTTON,{index:t,value:g.buttons[t]})}):d.el.off(t,".ogx_popup_button")}function O(o){o?d.el.on(b,".ogx_popup_resize",function(o){o.preventDefault(),o.stopImmediatePropagation(),o=z(o),i=o.pageX,s=o.pageY,e=$(this),h=d.el.position().left,n=d.el.position().top,X(!(r=a=0)),$("body").on(v,y),$("body").on(_,w)}):d.el.off(b,".ogx_popup_resize")}function y(o){o.preventDefault(),o.stopImmediatePropagation(),o=z(o),a=o.pageX-i,r=o.pageY-s,i=o.pageX,s=o.pageY}function w(o){X(!1),$("body").off(v,y),$("body").off(_,w),o=z(o),a=o.pageX-i,r=o.pageY-s}function X(o){o?t||(t=setInterval(P,10)):t&&(clearInterval(t),t=null)}function P(){var o=d.el.width(),t=d.el.height();e.index()||(d.el.css({transform:"translate3D("+(h+-1*a)+"px, "+(n+r)+"px, 0px)"}),h+=a,a*=-1),99<o+a&&d.el.width(o+a),99<t+r&&d.el.height(t+r),(a||r)&&g.tabs&&(c.resize(),u.resize()),r=a=0}function G(o){function t(o){o.preventDefault(),o.stopImmediatePropagation(),o=z(o),a=o.pageX-i,r=o.pageY-s}function e(o){I(!1),$("body").off(v,t),$("body").off(_,e),o=z(o),a=o.pageX-i,r=o.pageY-s}o?d.el.on(b,".ogx_popup_title",function(o){o.preventDefault(),o.stopImmediatePropagation(),d.bringToFront(),o=z(o),i=o.pageX,s=o.pageY,h=d.el.position().left,n=d.el.position().top,I(!(r=a=0)),$("body").on(v,t),$("body").on(_,e)}):(d.el.off(b,".ogx_popup_title"),$("body").off(v,t),$("body").off(_,e))}function I(o){o?t||(t=setInterval(E,10)):t&&(clearInterval(t),t=null)}function E(){d.el.css({transform:"translate3D("+(h+a)+"px, "+(n+r)+"px, 0px)"})}function z(o){return o.hasOwnProperty("originalEvent")&&void 0!==o.originalEvent.changedTouches?o.originalEvent.changedTouches[0]:o}function T(){var o=$(g.container).width(),t=$(g.container).height(),e=g.width,n=g.height;return"string"==typeof e&&-1!==e.indexOf("%")&&(e=Number(e.split("%")[0]),e=Math.round(e*o/100)),"string"==typeof n&&-1!==n.indexOf("%")&&(n=Number(n.split("%")[0]),n=Math.round(n*t/100)),{x:Math.round(o/2-e/2),y:Math.round(t/2-n/2),w:e,h:n}}function A(){var e,n=0;return $(g.container).children(".ogx_popup").each(function(o,t){e=Number($(t).css("z-index")),n<e&&(n=e)}),n+1}function C(){p.on(OGX.ViewSwiper.READY,function(){p.off(OGX.ViewSwiper.READY)}),u=new OGX.Tabs({container:p.children(".ogx_popup_tabs:first")[0],tabs:g.tabs,editable:!1,value:g.tabs[0].value}),(c=new OGX.ViewSwiper({enabled:!1,container:p.children(".ogx_popup_swiper_container:first").children(".ogx_popup_swiper:first")[0],core:g.core,views:g.views})).bind({object:u,property:"tabs"})}this._NAME_=OGX.Popup.NAME,this.snooze=!1,this.scroll=!1,this.tabbed=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.setIcon=function(o){g.icon=o,this.el.children(".ogx_popup_head:first").children(".ogx_popup_icon:first").css("background-image","url("+o+")")},this.getView=function(o){return!(!this.tabbed||!c)&&c.getViewView(o)},this.getViews=function(o){return!(!this.tabbed||!c)&&c.getContainers()},this.getCurrent=function(){return!(!this.tabbed||!c)&&c.getView()},this.getContainers=function(){return!(!this.tabbed||!c)&&c.getContainers()},this.bringToFront=function(){var o=A();d.el.css("z-index",o)},this.blur=function(){g.buttons.length&&m(!1),d.snooze=!0},this.focus=function(){g.buttons.length&&m(!0),d.snooze=!1},this.resize=function(o,t){g.width=o,g.height=t;var e=T();d.el.css("width",e.w+"px"),d.el.css("height",e.h+"px"),d.el.css({transform:"translate3D("+e.x+"px, "+e.y+"px, 0px)"})},this.center=function(){var o=T();d.el.css({transform:"translate3D("+o.x+"px, "+o.y+"px, 0px)"})},this.move=function(o,t){null===o&&(o=d.el.position().left),null===t&&(t=d.el.position().top),d.el.css({transform:"translate3D("+o+"px, "+t+"px, 0px)"})},this.updateScroller=function(){l&&l.update()},this.destroy=function(){g.buttons.length&&m(!1),g.drag&&(G(!1),I(!1)),g.resize&&(O(!1),X(!1)),g.icons&&x(!1),g.scroll&&l&&l.destroy(),g.tabs&&(void 0!==c&&c.destroy(),void 0!==u&&u.destroy())},function(){if(void 0!==OGX.Templater){if(function(){for(var o in f)g.hasOwnProperty(o)||(g[o]=f[o]);p=$(g.container),d.scroll=g.scroll,d.tabbed=Boolean(g.tabs),d.zindex=g.zindex,d.anim=g.anim,void 0!==window.ontouchstart&&(b="touchstart",v="touchmove",_="touchend")}(),function(){var o=T(),t=A();t<1e3&&(t=g.zindex);var e="z-index:"+t+";",n='<div class="ogx_popup" style="width:'+o.w+"px; height:"+o.h+"px; transform:translate3d("+o.x+"px, "+o.y+"px, 0); "+e+'" data-ogx="'+g.name+'">';if(g.icon||g.title||g.icons||g.style===OGX.Popup.STYLE_HEAD||g.drag){if(n+='<div class="ogx_popup_head">',g.icon&&(n+='<div class="ogx_popup_icon" style="background-image:url(\''+g.icon+"')\"></div>"),g.title&&(n+='<div class="ogx_popup_title">'+g.title+"</div>"),g.icons){n+='<div class="ogx_popup_icons">';for(var i=0;i<g.icons.length;i++)"string"==typeof g.icons[i]?n+='<div class="ogx_popup_icons_icon" style="background-image:url(\''+g.icons[i]+"')\"></div>":n+='<div class="ogx_popup_icons_icon" style="background-image:url(\''+g.icons[i].icon+"')\"></div>";n+="</div>"}n+="</div>"}if(n+='<div class="ogx_popup_body '+g.css+'">',g.tabs?n+='<div class="ogx_popup_tabs"></div><div class="ogx_popup_swiper_container"><div class="ogx_popup_swiper"></div></div>':g.html?n+=g.html:g.template&&(n+=OGX.Templater.templatize(g.data,OGX.Templater.getTemplate(g.template))),n+="</div>",0<g.buttons.length){for(n+='<div class="ogx_popup_buttons">',i=0;i<g.buttons.length;i++)"object"==typeof g.buttons[i]?n+='<span class="ogx_popup_button">'+g.buttons[i].label+"</span>":n+='<span class="ogx_popup_button">'+g.buttons[i]+"</span>";n+="</div>"}g.resize&&(n+='<div class="ogx_popup_resizes"><span class="ogx_popup_resize"></span><span class="ogx_popup_resize"></span></div>'),n+="</div>",p.prepend(n)}(),d.el=p.find(".ogx_popup:first"),p=d.el.find(".ogx_popup_body:first"),g.tabs){if(void 0===OGX.Tabs)return console.log("%c CRITICAL ERROR - OGX.Tabs not found! ","background:#222; color: #FF0000");setTimeout(C,5),d.ready=!0}else if(g.scroll){if(void 0===OGX.Scroller)return console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");l=new OGX.Scroller({container:p[0],init_delay:100,observe:!0}),p.on(OGX.Scroller.READY,function(){p.off(OGX.Scroller.READY),p=l.getContainer(),d.el.trigger(OGX.Popup.READY),d.ready=!0})}else d.ready=!0;g.buttons.length&&m(!0),g.drag&&G(!0),g.resize&&O(!0),g.icons&&x(!0),d.ready&&d.el.trigger(OGX.Popup.READY)}else console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000")}()},OGX.Popup.NAME="OgxPopup",OGX.Popup.READY="PopupReady",OGX.Popup.CLICK_BUTTON="PopupClickButton",OGX.Popup.CLICK_ICON="PopupClickIcon",OGX.Popup.NOANIM="PopupNoAnim",OGX.Popup.ANIM_FADE="PopupAnimFade",OGX.Popup.STYLE_HEAD="PopupStyleHead",OGX.Popup.STYLE_NONE="PopupStyleNone";