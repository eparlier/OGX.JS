if(void 0===OGX)var OGX=function(){};OGX.GridSwiper=function(t){"use strict";var n,o,l,y,a,r,e,i,x,s,d=this,p=t,c={enabled:!0,core:!1,map:[],loop:!0,depth:{x:0,y:0},start:!1,chromeos:!1},g="mousedown",_="mouseup",h="mousemove",f=!1,w={x:null,y:null},u={x:0,y:0},m={x:0,y:0},v=(new Date).getTime()+Math.round(1e3*Math.random());function G(t){t?n.on(g,S):n.off(g,S)}function S(t){f=!1,i=e=r=a=0,t=W(t),w.x=t.pageX,w.y=t.pageY,O(!0)}function b(t){t?$("body").on(_,M):$("body").off(_,M)}function M(t){var a;(O(!1),f)&&(!0?o.on("transitionend",function(){var t;o.off("transitionend"),o.removeClass("ogx_grid_swiper_anim"),"x"===f?(u=I(o),t=-1*Math.round(u.x/l),m.x!==t&&(m.x=t,-1===e?(o.children(".ogx_grid_swiper_cell[data-y="+(m.y-1)+"]").attr("data-x",m.x).css("left",m.x*l),o.children(".ogx_grid_swiper_cell[data-y="+(m.y+1)+"]").attr("data-x",m.x).css("left",m.x*l),o.children(".ogx_grid_swiper_cell[data-x="+(m.x-2)+"][data-y="+m.y+"]").attr("data-x",m.x+1).css("left",(m.x+1)*l),n.trigger(OGX.GridSwiper.SWIPE_LEFT,m),T([{x:m.x+1,y:m.y},{x:m.x,y:m.y-1},{x:m.x,y:m.y+1}])):(o.children(".ogx_grid_swiper_cell[data-y="+(m.y-1)+"]").attr("data-x",m.x).css("left",m.x*l),o.children(".ogx_grid_swiper_cell[data-y="+(m.y+1)+"]").attr("data-x",m.x).css("left",m.x*l),o.children(".ogx_grid_swiper_cell[data-x="+(m.x+2)+"][data-y="+m.y+"]").attr("data-x",m.x-1).css("left",(m.x-1)*l),n.trigger(OGX.GridSwiper.SWIPE_RIGHT,m),T([{x:m.x-1,y:m.y},{x:m.x,y:m.y-1},{x:m.x,y:m.y+1}])))):"y"===f&&(u=I(o),t=-1*Math.round(u.y/y),m.y!==t&&(m.y=t,-1===i?(o.children(".ogx_grid_swiper_cell[data-x="+(m.x-1)+"]").attr("data-y",m.y).css("top",m.y*y),o.children(".ogx_grid_swiper_cell[data-x="+(m.x+1)+"]").attr("data-y",m.y).css("top",m.y*y),o.children(".ogx_grid_swiper_cell[data-y="+(m.y-2)+"][data-x="+m.x+"]").attr("data-y",m.y+1).css("top",(m.y+1)*y),n.trigger(OGX.GridSwiper.SWIPE_UP,m),T([{x:m.x,y:m.y+1},{x:m.x-1,y:m.y},{x:m.x+1,y:m.y}])):(o.children(".ogx_grid_swiper_cell[data-x="+(m.x-1)+"]").attr("data-y",m.y).css("top",m.y*y),o.children(".ogx_grid_swiper_cell[data-x="+(m.x+1)+"]").attr("data-y",m.y).css("top",m.y*y),o.children(".ogx_grid_swiper_cell[data-y="+(m.y+2)+"][data-x="+m.x+"]").attr("data-y",m.y-1).css("top",(m.y-1)*y),n.trigger(OGX.GridSwiper.SWIPE_DOWN,m),T([{x:m.x,y:m.y-1},{x:m.x-1,y:m.y},{x:m.x+1,y:m.y}])))),f=0}):o.off("transitionend"),o.addClass("ogx_grid_swiper_anim"),"x"===f?(u=I(o),a=-1*Math.round(u.x/l)*l*-1,o.css({transform:"translate3d("+a+"px, "+u.y+"px, 0px)"})):(u=I(o),a=-1*Math.round(u.y/y)*y*-1,o.css({transform:"translate3d("+u.x+"px, "+a+"px, 0px)"})))}function O(t){t?(E(!0),n.on(h,X)):(E(!1),n.off(h,X))}function X(t){t=W(t),i=e=r=a=0,f||(Math.abs(t.pageX-w.x)>Math.abs(t.pageY-w.y)?f="x":Math.abs(t.pageX-w.x)<Math.abs(t.pageY-w.y)&&(f="y")),f&&("x"===f?(a=Math.abs(t.pageX-w.x),e=0<t.pageX-w.x?1:-1):"y"===f&&(r=Math.abs(t.pageY-w.y),i=0<t.pageY-w.y?1:-1))}function E(t){t?s||(s=setInterval(P,10)):s&&(clearInterval(s),s=null)}function P(){"x"===f&&a&&e&&a<=l?(x=a*e,o.css({transform:"translate3d("+(-1*m.x*l+x)+"px, "+u.y+"px, 0px)"})):"y"===f&&r&&i&&r<=y&&(x=r*i,o.css({transform:"translate3d("+u.x+"px, "+(-1*m.y*y+x)+"px, 0px)"}))}function I(t,a){var r=t.css("transform");return"none"===r?0:(r=(r=(r=r.substr(7)).substr(0,r.length-1)).split(","),{x:Number(r[4]),y:Number(r[5])})}function W(t){return t.hasOwnProperty("originalEvent")&&void 0!==t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}function T(t){for(var a,r,e={x:null,y:null},i=0;i<t.length;i++){if(t[i].y<0||t[i].y>p.map.length-1){if(!p.loop)return!1;e.y=t[i].y%p.map.length,e.y<0&&Math.abs(e.y=p.map.length+e.y)}else e.y=t[i].y;if(t[i].x<0||t[i].x>p.map[0].length-1){if(!p.loop)return!1;e.x=t[i].x%p.map[0].length,e.x<0&&Math.abs(e.x=p.map[0].length+e.x)}else e.x=t[i].x;switch(typeof(a=p.map[e.y][e.x])){case"string":o.children('.ogx_grid_swiper_cell[data-x="'+t[i].x+'"][data-y="'+t[i].y+'"]').children(".ogx_grid_swiper_cell_content:first").html(a);break;case"function":(r=a(e))&&o.children('.ogx_grid_swiper_cell[data-x="'+t[i].x+'"][data-y="'+t[i].y+'"]').children(".ogx_grid_swiper_cell_content:first").html(r);break;case"object":if(!p.core)return!1;a.hasOwnProperty("data")&&"function"==typeof a.data&&(a.data=a.data(e)),p.core.addToStage('.ogx_grid_swiper[data-ogx-id="'+v+'"] .ogx_grid_swiper[data-x="'+t[i].x+'"][data-y="'+t[i].y+'"] .ogx_grid_swiper_cell_content:first',a)}}}this._NAME_=OGX.GridSwiper.NAME,this.el=null,this.enable=function(){p.enabled||(G(!0),b(!0),p.enabled=!0)},this.disable=function(){p.enabled&&(G(!1),listenMouse(!1),b(!1),E(!1),p.enabled=!1)},this.setContent=function(t,a){return p.map[t.y]||(p.map[t.y]=[]),function(t,a){var r=(e=t,o.children(".ogx_grid_swiper_cell[data-x="+e.x+"][data-y="+e.y+"]"));var e;r&&("object"==typeof a||r.html(a));return!1}(t,p.map[t.y][t.x]=a)},this.destroy=function(){this.disable()},function(){for(var t in c)p.hasOwnProperty(t)||(p[t]=c[t]);void 0===window.ontouchstart||p.chromeos||(g="touchstart",h="touchmove",_="touchend"),d.el=n=$(p.container),n.addClass("ogx_grid_swiper"),n.attr("data-ogx-id",v),l=n.outerWidth(),y=n.outerHeight()}(),p.map.length||(p.map=[[]]),p.map.length&&!Array.isArray(p.map[0])&&(p.map=[p.map]),p.start||(p.start={x:null,y:null},p.start.y=Math.floor(p.map.length/2),p.start.x=Math.floor(p.map[0].length/2)),function(){for(var t=p.start.x*-l,a=p.start.y*-y,r=p.start.y-1,e=p.start.x,i='<div class="ogx_grid_swiper_container" style="width:'+3*l+"px; height:"+3*y+"px; transform:translate3d("+t+"px, "+a+'px, 0px);">',x=-1*t,s=-1*a-y,d=0;d<3;d++)i+='<div class="ogx_grid_swiper_cell" style="left:'+x+"px; top:"+s+"px; width:"+l+"px; height:"+y+'px;" data-x="'+e+'" data-y="'+r+'"><div class="ogx_grid_swiper_cell_content"></div></div>',s+=y,r++;i+='<div class="ogx_grid_swiper_cell" style="left:'+(x-l)+"px; top:"+-1*a+"px; width:"+l+"px; height:"+y+'px;" data-x="'+(e-1)+'" data-y="'+p.start.y+'"><div class="ogx_grid_swiper_cell_content"></div></div>',i+='<div class="ogx_grid_swiper_cell" style="left:'+(x+l)+"px; top:"+-1*a+"px; width:"+l+"px; height:"+y+'px;" data-x="'+(e+1)+'" data-y="'+p.start.y+'"><div class="ogx_grid_swiper_cell_content"></div></div>',i+="</div>",n.html(i),o=n.children(".ogx_grid_swiper_container:first"),m.x=p.start.x,m.y=p.start.y,u.x=t,u.y=a}(),T([{x:p.start.x,y:p.start.y-1},{x:p.start.x,y:p.start.y},{x:p.start.x,y:p.start.y+1},{x:p.start.x-1,y:p.start.y},{x:p.start.x+1,y:p.start.y}]),p.enabled&&(G(!0),b(!0))},OGX.GridSwiper.NAME="OgxGridSwiper",OGX.GridSwiper.SWIPE_LEFT="GridSwiperSwipeLeft",OGX.GridSwiper.SWIPE_RIGHT="GridSwiperSwipeRight",OGX.GridSwiper.SWIPE_UP="GridSwiperSwipeUp",OGX.GridSwiper.SWIPE_DOWN="GridSwiperSwipeDown";