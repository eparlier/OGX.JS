if(void 0===OGX)var OGX=function(){};OGX.GridSwiper=function(t){"use strict";var o,x,l,p,a,r,e,i,s,d,n=this,c=t,y={enabled:!0,core:!1,map:[],loop:!0,depth:{x:0,y:0},start:!1,chromeos:!1},g="mousedown",_="mouseup",h="mousemove",f=!1,u={x:null,y:null},w={x:0,y:0},m={x:0,y:0};function G(t){t?o.on(g,v):o.off(g,v)}function v(t){f=!1,i=e=r=a=0,t=P(t),u.x=t.pageX,u.y=t.pageY,O(!0)}function S(t){t?$("body").on(_,b):$("body").off(_,b)}function b(t){var a;(O(!1),f)&&(!0?x.on("transitionend",function(){var t;x.off("transitionend"),x.removeClass("ogx_grid_swiper_anim"),"x"===f?(w=I(x),t=-1*Math.round(w.x/l),m.x!==t&&(m.x=t,-1===e?(x.children(".ogx_grid_swiper_cell[data-y="+(m.y-1)+"]").attr("data-x",m.x).css("left",m.x*l),x.children(".ogx_grid_swiper_cell[data-y="+(m.y+1)+"]").attr("data-x",m.x).css("left",m.x*l),x.children(".ogx_grid_swiper_cell[data-x="+(m.x-2)+"][data-y="+m.y+"]").attr("data-x",m.x+1).css("left",(m.x+1)*l),o.trigger(OGX.GridSwiper.SWIPE_LEFT,m)):(x.children(".ogx_grid_swiper_cell[data-y="+(m.y-1)+"]").attr("data-x",m.x).css("left",m.x*l),x.children(".ogx_grid_swiper_cell[data-y="+(m.y+1)+"]").attr("data-x",m.x).css("left",m.x*l),x.children(".ogx_grid_swiper_cell[data-x="+(m.x+2)+"][data-y="+m.y+"]").attr("data-x",m.x-1).css("left",(m.x-1)*l),o.trigger(OGX.GridSwiper.SWIPE_RIGHT,m)))):"y"===f&&(w=I(x),t=-1*Math.round(w.y/p),m.y!==t&&(m.y=t,-1===i?(x.children(".ogx_grid_swiper_cell[data-x="+(m.x-1)+"]").attr("data-y",m.y).css("top",m.y*p),x.children(".ogx_grid_swiper_cell[data-x="+(m.x+1)+"]").attr("data-y",m.y).css("top",m.y*p),x.children(".ogx_grid_swiper_cell[data-y="+(m.y-2)+"][data-x="+m.x+"]").attr("data-y",m.y+1).css("top",(m.y+1)*p),o.trigger(OGX.GridSwiper.SWIPE_UP,m)):(x.children(".ogx_grid_swiper_cell[data-x="+(m.x-1)+"]").attr("data-y",m.y).css("top",m.y*p),x.children(".ogx_grid_swiper_cell[data-x="+(m.x+1)+"]").attr("data-y",m.y).css("top",m.y*p),x.children(".ogx_grid_swiper_cell[data-y="+(m.y+2)+"][data-x="+m.x+"]").attr("data-y",m.y-1).css("top",(m.y-1)*p),o.trigger(OGX.GridSwiper.SWIPE_DOWN,m)))),f=0}):x.off("transitionend"),x.addClass("ogx_grid_swiper_anim"),"x"===f?(w=I(x),a=-1*Math.round(w.x/l)*l*-1,x.css({transform:"translate3d("+a+"px, "+w.y+"px, 0px)"})):(w=I(x),a=-1*Math.round(w.y/p)*p*-1,x.css({transform:"translate3d("+w.x+"px, "+a+"px, 0px)"})))}function O(t){t?(E(!0),o.on(h,X)):(E(!1),o.off(h,X))}function X(t){t=P(t),i=e=r=a=0,f||(Math.abs(t.pageX-u.x)>Math.abs(t.pageY-u.y)?f="x":Math.abs(t.pageX-u.x)<Math.abs(t.pageY-u.y)&&(f="y")),f&&("x"===f?(a=Math.abs(t.pageX-u.x),e=0<t.pageX-u.x?1:-1):"y"===f&&(r=Math.abs(t.pageY-u.y),i=0<t.pageY-u.y?1:-1))}function E(t){t?d||(d=setInterval(M,10)):d&&(clearInterval(d),d=null)}function M(){"x"===f&&a&&e&&a<=l?(s=a*e,x.css({transform:"translate3d("+(-1*m.x*l+s)+"px, "+w.y+"px, 0px)"})):"y"===f&&r&&i&&r<=p&&(s=r*i,x.css({transform:"translate3d("+w.x+"px, "+(-1*m.y*p+s)+"px, 0px)"}))}function I(t,a){var r=t.css("transform");return"none"===r?0:(r=(r=(r=r.substr(7)).substr(0,r.length-1)).split(","),{x:Number(r[4]),y:Number(r[5])})}function P(t){return t.hasOwnProperty("originalEvent")&&void 0!==t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}this._NAME_=OGX.GridSwiper.NAME,this.el=null,this.enable=function(){c.enabled||(G(!0),S(!0),c.enabled=!0)},this.disable=function(){c.enabled&&(G(!1),listenMouse(!1),S(!1),E(!1),c.enabled=!1)},this.setContent=function(t,a){return c.map[t.y]||(c.map[t.y]=[]),function(t,a){var r=(e=t,x.children(".ogx_grid_swiper_cell[data-x="+e.x+"][data-y="+e.y+"]"));var e;r&&("object"==typeof a||r.html(a));return!1}(t,c.map[t.y][t.x]=a)},this.destroy=function(){this.disable()},function(){for(var t in y)c.hasOwnProperty(t)||(c[t]=y[t]);void 0===window.ontouchstart||c.chromeos||(g="touchstart",h="touchmove",_="touchend"),n.el=o=$(c.container),o.addClass("ogx_grid_swiper"),l=o.outerWidth(),p=o.outerHeight()}(),c.map.length||(c.map=[[]]),c.map.length&&!Array.isArray(c.map[0])&&(c.map=[c.map]),c.start||(c.start={x:null,y:null},c.start.y=Math.floor(c.map.length/2),c.start.x=Math.floor(c.map[0].length/2)),function(){for(var t=c.start.x*-l,a=c.start.y*-p,r=c.start.y-1,e=c.start.x,i='<div class="ogx_grid_swiper_container" style="width:'+3*l+"px; height:"+3*p+"px; transform:translate3d("+t+"px, "+a+'px, 0px);">',s=-1*t,d=-1*a-p,n=0;n<3;n++)i+='<div class="ogx_grid_swiper_cell" style="left:'+s+"px; top:"+d+"px; width:"+l+"px; height:"+p+'px;" data-x="'+e+'" data-y="'+r+'"></div>',d+=p,r++;i+='<div class="ogx_grid_swiper_cell" style="left:'+(s-l)+"px; top:"+-1*a+"px; width:"+l+"px; height:"+p+'px;" data-x="'+(e-1)+'" data-y="'+c.start.y+'"></div>',i+='<div class="ogx_grid_swiper_cell" style="left:'+(s+l)+"px; top:"+-1*a+"px; width:"+l+"px; height:"+p+'px;" data-x="'+(e+1)+'" data-y="'+c.start.y+'"></div>',i+="</div>",o.html(i),x=o.children(".ogx_grid_swiper_container:first"),m.x=c.start.x,m.y=c.start.y,w.x=t,w.y=a}(),c.enabled&&(G(!0),S(!0))},OGX.GridSwiper.NAME="OgxGridSwiper",OGX.GridSwiper.SWIPE_LEFT="GridSwiperSwipeLeft",OGX.GridSwiper.SWIPE_RIGHT="GridSwiperSwipeRight",OGX.GridSwiper.SWIPE_UP="GridSwiperSwipeUp",OGX.GridSwiper.SWIPE_DOWN="GridSwiperSwipeDown";