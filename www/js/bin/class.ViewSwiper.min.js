if(void 0===OGX)var OGX=function(){};OGX.ViewSwiper=function(e){"use strict";var o,n,r,t,s,i,w,a,c=this,v=e,f={core:!1,enabled:!0,blur:!0,path:"html",views:[],current:0,min_x:100},p=!1,u=!1,h="mousedown",d="mouseup",g="mousemove",_={x:0,y:0},l={x:0,y:0},x={};function b(e){if(x.hasOwnProperty(e)&&"object"==typeof x[e].object)switch(x[e].object._NAME_){case OGX.Tabs.NAME:x[e].object.el.off(OGX.Tabs.SELECT)}}function m(){if(Math.abs(_.x-l.x)>Math.abs(_.y-l.y))if(t>v.min_x){var e=a+-1*s;if(0<=e&&e<v.views.length)y(i=(a=e)*r*-1,OGX.ViewSwiper.SWIPE,e),function(){for(var e in x)switch(x[e].object._NAME_){case OGX.Tabs.NAME:x[e].object.selectTabAt(a)}}()}else if(0<t){var i=a*r*-1+t*s;n.css({transform:"translate3D("+i+"px, 0, 0)"})}}function y(e,i,t){V(!(p=!0)),n.addClass("ogx_view_swiper_anim").removeClass("ogx_view_swiper_noanim"),i&&o.trigger(i,t),n.on("transitionend",function(){p=!1,n.off("transitionend"),n.removeClass("ogx_view_swiper_anim")}),n.css({transform:"translate3D("+e+"px, 0, 0)"})}function V(e){e?(X(!0),i=setInterval(m,20)):(X(!1),i&&clearInterval(i))}function O(e){e?o.on(h,S):o.off(h,S)}function S(e){p||(e=C(e),_.x=e.pageX,_.y=e.pageY,s=t=0,n.removeClass("ogx_view_swiper_noanim"),V(!0))}function E(e){e?$("body").on(d,M):$("body").off(d,M)}function M(){var e;p||((e=(e=(e=n.css("transform")).substr(7)).split(","),e=Number(e[4]))!==a*r*-1?y(a*r*-1,OGX.ViewSwiper.RESTORE,a):V(!1))}function X(e){e?o.on(g,j):o.off(g,j)}function j(e){e=C(e),l.x=e.pageX,l.y=e.pageY,s=l.x>_.x?1:-1,t=Math.abs(l.x-_.x)}function G(e){e?$(window).on("resize",T):$(window).off("resize",T)}function T(){u=!0,clearInterval(w),w=setInterval(A,50),r=Math.floor(o.innerWidth()),o.innerHeight(),n.css("width",Math.round(r*v.views.length)+"px"),n.children(".ogx_view_swiper_view").each(function(e,i){$(i).css("width",r+"px")}),n.removeClass("ogx_view_swiper_anim").addClass("ogx_view_swiper_noanim"),n.css({transform:"translate3D("+r*a*-1+"px, 0, 0)"})}function A(){u=!1,clearInterval(w)}function C(e){return e.hasOwnProperty("originalEvent")&&void 0!==e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e}this._NAME_=OGX.ViewSwiper.NAME,this.el=null,this.bind=function(e){return function(t){if("object"==typeof t.object)switch((x[t.property]=t).object._NAME_){case OGX.Tabs.NAME:x[t.property].object.el.on(OGX.Tabs.SELECT,function(e,i){c.showView(x[t.property].object.getTabIndex())}),x[t.property].object.el.on(OGX.Tabs.CLOSE,function(e,i){c.removeView(i.index)})}}(e)},this.unbind=function(e){},this.resize=function(){T()},this.addView=function(e){var i,t=(new Date).getTime()+Math.round(1e3*Math.random());i="object"==typeof e?"":e,o.find(".ogx_view_swiper_views:first").append('<div class="ogx_view ogx_view_swiper_view" style="width:'+r+'px;" data-ogx-swiper="'+t+'">'+i+"</div>"),n.css("width",(v.views.length+1)*r+"px"),"object"==typeof e&&v.hasOwnProperty("core")&&v.core&&(e.container='.ogx_view_swiper_view[data-ogx-swiper="'+t+'"]',v.core.addView(e)),v.views.push(e),this.showView(v.views.length-1)},this.showView=function(e){if(0<=e&&e<v.views.length&&!u){if(v.blur&&"object"==typeof v.views[a])v.core.getView(v.core.getCurrentStage(),v.views[a].container).blur();var i=e*r*-1;if(setTimeout(function(){y(i)},0),a=e,v.blur&&"object"==typeof v.views[a])v.core.getView(v.core.getCurrentStage(),v.views[a].container).focus();return!0}return!1},this.getViews=function(){return v.views},this.getView=function(){return a},this.getContainers=function(){for(var e=[],i=0;i<v.views.length;i++)e.push(v.views[i].container);return e},this.removeView=function(e){if(0<=e&&e<v.views.length){0<=e-1&&c.showView(e-1);var i=v.views[e];"object"==typeof i&&v.hasOwnProperty("core")&&v.core&&v.core.removeView(i.container),v.views.splice(e,1),n.children(".ogx_view_swiper_view:eq("+e+")").remove(),n.css("width",Math.round(r*v.views.length)+"px")}},this.getPanel=function(e){return void 0===e&&(e=a),o.find(".ogx_view_swiper_views:first").children(".ogx_view_swiper_view:eq("+e+")")[0]},this.getViewView=function(e){if(void 0===e&&(e=a),v.core)return v.core.findView(v.views[e].container)},this.destroy=function(){O(!1),E(!1),V(!1),G(!1),function(){for(var e in x)b(e)}(),function(){if(v.core)for(var e=0;e<v.views.length;e++)v.core.removeFromStage(v.views[e].container)}()},function(){for(var e in f)v.hasOwnProperty(e)||(v[e]=f[e]);a=v.current,c.el=o=$(v.container),r=Math.floor(o.innerWidth()),o.innerHeight(),void 0!==window.ontouchstart&&(h="touchstart",g="touchmove",d="touchend")}(),o.html('<div class="ogx_view_swiper_views ogx_hw" style="width:'+Math.round(r*v.views.length)+'px;"></div>'),(n=o.find(".ogx_view_swiper_views:first")).css({transform:"translate3D("+r*a*-1+"px, 0, 0)"}),function(){for(var e,i,t=[],n=0;n<v.views.length;n++)e=(new Date).getTime()+Math.round(1e3*Math.random()),i="object"==typeof v.views[n]?"":v.views[n],o.find(".ogx_view_swiper_views:first").append('<div class="ogx_view ogx_view_swiper_view" style="width:'+r+'px;" data-ogx-swiper="'+e+'">'+i+"</div>"),t.push('.ogx_view_swiper_view[data-ogx-swiper="'+e+'"]'),"object"==typeof v.views[n]&&v.hasOwnProperty("core")&&v.core&&(v.views[n].container='.ogx_view_swiper_view[data-ogx-swiper="'+e+'"]',v.blur&&n!==a&&(v.views[n].hasOwnProperty("blur")||(v.views[n].blur=!0)),v.core.addView(v.views[n]));o.trigger(OGX.ViewSwiper.READY,{containers:t})}(),v.enabled&&(O(!0),E(!0)),G(!0)},OGX.ViewSwiper.NAME="OgxViewSwiper",OGX.ViewSwiper.READY="ViewSwiperReady",OGX.ViewSwiper.SWIPE="ViewSwiperSwipe",OGX.ViewSwiper.DRAG="ViewSwiperDrag",OGX.ViewSwiper.RESTORE="ViewSwiperRestore";