if(void 0===OGX)var OGX=function(){};OGX.Roulette=function(t){"use strict";var o,r,i,s,u,c,a,d,h,f,e,n,l,p,v=this,g=t,m={force_coef:10,time_coef:.1,min_force_pitch:2,value:0,enabled:!0,data:[]},x="mousedown",_="mouseup",b="mousemove",M=0;function D(t){for(var e=!1,a=0;a<g.data.length;a++)if(g.data[a].value===g.value)return e=a+t>g.data.length?g.data[0]:a+t<0?g.data[g.data.length-1]:g.data[a+t];return e}function O(t){t?o.on(x,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=Y(t),d=(new Date).getTime(),u=t.pageY,a=t.pageY,w(!0),O(!1),G(!0),I(!0)}):o.off(x)}function w(t){var e,a,n,o,i,l;t?$(document).on(_,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=Y(t),I(!1),G(!1),w(!1),O(!0),h=(new Date).getTime(),c=t.pageY,e=Math.abs(c-u),s<e&&(e=s),f=u<c?1:-1,a=e/(h-d)*g.force_coef,n=N(r),o=Math.round(n/s)*f,e=o*s-n*f,Math.round(a*g.time_coef*100)/100,l=Math.abs(Math.ceil((n+e*f)/(s*g.data.length))),i=Math.abs((Math.abs(n+e*f)-l*s*g.data.length)/s),g.value!==i&&(g.value=i,v.el.trigger(OGX.Roulette.CHANGE,g.data[i].value)),r.css({transition:"all 0.2s ease-out",transform:"translate3D(0px, "+(n+e*f)+"px, 0px)"})}):$(document).off(_)}function G(t){t?n=setInterval(E,50):(clearInterval(n),p=0),t?$(document).on(b,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=Y(t),p=t}):$(document).off(b)}function E(){var t,e;p&&(t=(e=p.pageY>a?1:-1)!==f?0:p.pageY-a,a=p.pageY,f=e,r.css({transition:"none",transform:"translate3D(0px, "+(N(r)+t)+"px, 0px)"}))}function I(t){t?e=setInterval(R,10):clearInterval(e)}function R(){var t,e,a;(t=Math.floor((r.position().top+s*f)/(s*g.data.length)*-1))!==M&&(0===r.children('.ogx_roulette_stripe[data-id="'+t+'"]').length&&((e=l.clone()).css("top",t*(s*g.data.length)+"px"),e.attr("data-id",t),r.append(e)),r.children(".ogx_roulette_stripe").each(function(t,e){a=r.position().top+$(e).position().top,(Math.ceil(a+s*g.data.length)<-s||s<a)&&$(e).remove()}),M=t)}function X(){g.data.length<2&&(g.data=[{label:"",value:null},{label:"",value:null}]);for(var t='<div class="ogx_roulette_stripes">',e=0;e<2;e++){t+='<div class="ogx_roulette_stripe" style="top:'+e*(g.data.length*s)+'px;" data-id="'+e+'">';for(var a=0;a<g.data.length;a++)t+='<div class="ogx_roulette_block" style="width:'+i+"px; height:"+s+"px; line-height:"+s+'px;"><span class="ogx_roulette_block_label">'+g.data[a].label+"</span></div>";t+="</div>"}t+="</div>",o.html(t),r=o.children(".ogx_roulette_stripes:first"),r.children(".ogx_roulette_stripe:first"),l=(l=r.children(".ogx_roulette_stripe:last")).detach();var n=g.value*s*-1;r.css({transition:"none",transform:"translate3D(0px, "+n+"px, 0px)"})}function N(t){var e=0;return"none"!==t.css("transform")&&(e=Number(t.css("transform").split(",")[5].split(")")[0])),e}function Y(t){return t.hasOwnProperty("originalEvent")&&void 0!==t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}function y(t){for(var e=0;e<g.data.length;e++)if(g.data[e].value===t)return e;return-1}this._NAME_=OGX.Roulette.NAME,this.el=null,this.val=function(t,e){if(void 0===t)return g.data[g.value].value;var a=g.value,n=y(t);-1<n&&(g.value=n),void 0===e&&(e=!0);var o=a-n,i=g.time_coef*Math.abs(o);e?r.css({transition:"all "+i+"s ease-out",transform:"translate3D(0px, "+(N(r)+o*s)+"px, 0px)"}):r.css({transition:"all 0s ease-out",transform:"translate3D(0px, "+(N(r)+o*s)+"px, 0px)"})},this.next=function(){var t=D(1);t&&this.val(t)},this.prev=function(){var t=D(-1);t&&this.val(t)},this.setData=function(t){g.data=t,setTimeout(X,0)},this.enable=function(){g.enabled||O(g.enabled=!0)},this.disable=function(){g.enabled||O(g.enabled=!1)},this.destroy=function(){w(!1),O(!1),G(!1),I(!1)},function(){for(var t in m)g.hasOwnProperty(t)||(g[t]=m[t]);(o=v.el=$(g.container)).addClass("ogx_roulette"),i=o.width(),s=o.height(),g.value=y(g.value),void 0!==window.ontouchstart&&(x="touchstart",b="touchmove",_="touchend")}(),X(),g.enabled&&O(!0)},OGX.Roulette.NAME="OgxRoulette",OGX.Roulette.CHANGE="RouletteChange";