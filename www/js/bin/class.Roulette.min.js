if(void 0===OGX)var OGX=function(){};OGX.Roulette=function(t){"use strict";var l,i,o,r,s,u,a,d,c,v,e,n,h,p,f=this,g=t,m={force_coef:10,time_coef:.1,min_force_pitch:2,value:0,enabled:!0,name:!1,data:[]},x="mousedown",_="mouseup",b="mousemove",M=0;function G(t){return g.value+t>g.data.length-1?g.data[0]:g.value+t<0?g.data[g.data.length-1]:g.data[g.value+t]}function D(t){t?l.on(x,O):l.off(x,O)}function O(t){t.preventDefault(),t.stopImmediatePropagation(),t=T(t),d=(new Date).getTime(),s=t.pageY,a=t.pageY,E(!0),D(!1),C(!0),y(!0)}function E(t){t?$("body").on(_,w):$("body").off(_,w)}function w(t){var e,a,n,l,o;t.preventDefault(),t.stopImmediatePropagation(),t=T(t),y(!1),C(!1),E(!1),D(!0),c=(new Date).getTime(),u=t.pageY,e=Math.abs(u-s),r<e&&(e=r),v=s<u?1:-1,a=e/(c-d)*g.force_coef,n=I(i),e=Math.round(n/r)*v*r-n*v,Math.round(a*g.time_coef*100),o=Math.abs(Math.ceil((n+e*v)/(r*g.data.length))),l=Math.abs((Math.abs(n+e*v)-o*r*g.data.length)/r),g.value!==l&&(g.value=l,g.name&&(f.el.children('input[name="'+g.name+'"]').val(g.data[l].value),f.el.children('input[name="'+g.name+'"]').trigger("change")),f.el.trigger(OGX.Roulette.CHANGE,g.data[l].value)),i.css({transition:"all 0.2s ease-out",transform:"translate3D(0px, "+(n+e*v)+"px, 0px)"})}function C(t){t?n=setInterval(X,50):(clearInterval(n),p=0),t?$(document).on(b,R):$(document).off(b,R)}function R(t){t.preventDefault(),t.stopImmediatePropagation(),t=T(t),p=t}function X(){var t,e;p&&(t=(e=p.pageY>a?1:-1)!==v?0:p.pageY-a,a=p.pageY,v=e,i.css({transition:"none",transform:"translate3D(0px, "+(I(i)+t)+"px, 0px)"}))}function y(t){t?e=setInterval(N,10):clearInterval(e)}function N(){var t,e,a;(t=Math.floor((i.position().top+r*v)/(r*g.data.length)*-1))!==M&&(0===i.children('.ogx_roulette_stripe[data-id="'+t+'"]').length&&((e=h.clone()).css("top",t*(r*g.data.length)+"px"),e.attr("data-id",t),i.append(e)),i.children(".ogx_roulette_stripe").each(function(t,e){a=i.position().top+$(e).position().top,(Math.ceil(a+r*g.data.length)<-r||r<a)&&$(e).remove()}),M=t)}function A(){g.data.length<2&&(g.data=[{label:"",value:null},{label:"",value:null}]);for(var t='<div class="ogx_roulette_stripes">',e=0;e<2;e++){t+='<div class="ogx_roulette_stripe" style="top:'+e*(g.data.length*r)+'px;" data-id="'+e+'">';for(var a=0;a<g.data.length;a++)t+='<div class="ogx_roulette_block" style="width:'+o+"px; height:"+r+"px; line-height:"+r+'px;"><span class="ogx_roulette_block_label">'+g.data[a].label+"</span></div>";t+="</div>"}t+="</div>",g.name&&(t+='<input type="hidden" name="'+g.name+'" value="'+g.data[g.value].value+'">'),l.html(t),i=l.children(".ogx_roulette_stripes:first"),i.children(".ogx_roulette_stripe:first"),h=(h=i.children(".ogx_roulette_stripe:last")).detach();var n=g.value*r*-1;i.css({transition:"none",transform:"translate3D(0px, "+n+"px, 0px)"})}function I(t){var e=0;return"none"!==t.css("transform")&&(e=Number(t.css("transform").split(",")[5].split(")")[0])),e}function T(t){return t.hasOwnProperty("originalEvent")&&void 0!==t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}function Y(t){for(var e=0;e<g.data.length;e++)if(g.data[e].value===t)return e;return-1}this._NAME_=OGX.Roulette.NAME,this.el=null,this.val=function(t,e){if(void 0===t)return g.data[g.value].value;var a=g.value,n=Y(t);-1<n&&(g.value=n),void 0===e&&(e=!0);var l=a-n,o=g.time_coef*Math.abs(l);e?i.css({transition:"all "+o+"s ease-out",transform:"translate3D(0px, "+(I(i)+l*r)+"px, 0px)"}):i.css({transition:"all 0s ease-out",transform:"translate3D(0px, "+(I(i)+l*r)+"px, 0px)"})},this.loopval=function(t,e){var a=g.value,n=Y(e);-1<n&&(g.value=n);var l=a-n;v=-1;var o=g.time_coef*Math.abs(l+t*g.data.length);y(!0),i.css({transition:"all "+o+"s ease-out",transform:"translate3D(0px, "+(I(i)+(l*r-g.data.length*r*t))+"px, 0px)"}),i.on("transitionend",function t(){y(!1);i.off("transitionend",t)})},this.next=function(){var t=G(1);t&&(this.val(t.value),g.name&&(this.el.children('input[name="'+g.name+'"]').val(g.data[g.value].value),this.el.children('input[name="'+g.name+'"]').trigger("change")),this.el.trigger(OGX.Roulette.CHANGE,g.data[g.value].value))},this.prev=function(){var t=G(-1);t&&(this.val(t.value),g.name&&(this.el.children('input[name="'+g.name+'"]').val(g.data[g.value].value),this.el.children('input[name="'+g.name+'"]').trigger("change")),this.el.trigger(OGX.Roulette.CHANGE,g.data[g.value].value))},this.setData=function(t){g.data=t,g.value=0,setTimeout(A,0)},this.enable=function(){g.enabled||(g.enabled=!0,l.removeClass("ogx_roulette_disabled"),D(!0))},this.disable=function(){g.enabled&&(g.enabled=!1,l.addClass("ogx_roulette_disabled"),D(!1))},this.destroy=function(){E(!1),D(!1),C(!1),y(!1)},function(){for(var t in m)g.hasOwnProperty(t)||(g[t]=m[t]);1===g.data.length&&(g.data[1]=g.data[0]),(l=f.el=$(g.container)).addClass("ogx_roulette"),o=l.width(),r=l.height(),g.value=Y(g.value),void 0!==window.ontouchstart&&(x="touchstart",b="touchmove",_="touchend"),g.enabled||l.addClass("ogx_roulette_disabled")}(),setTimeout(A,0),g.enabled&&D(!0)},OGX.Roulette.NAME="OgxRoulette",OGX.Roulette.CHANGE="RouletteChange";