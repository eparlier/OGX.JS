if(void 0===OGX)var OGX=function(){};OGX.Roulette=function(e){"use strict";var l,r,o,u,s,d,a,c,h,v,t,n,i,p,f=this,g=e,m={force_coef:10,time_coef:.1,min_force_pitch:2,value:0,enabled:!0,name:!1,data:[]},x="mousedown",_="mouseup",b="mousemove",G=0;function M(e){return g.value+e>g.data.length-1?g.data[0]:g.value+e<0?g.data[g.data.length-1]:g.data[g.value+e]}function O(e){e?l.on(x,function(e){e.preventDefault(),e.stopImmediatePropagation(),e=I(e),c=(new Date).getTime(),s=e.pageY,a=e.pageY,D(!0),O(!1),E(!0),R(!0)}):l.off(x)}function D(e){var t,a,n,l,o,i;e?$(document).on(_,function(e){e.preventDefault(),e.stopImmediatePropagation(),e=I(e),R(!1),E(!1),D(!1),O(!0),h=(new Date).getTime(),d=e.pageY,t=Math.abs(d-s),u<t&&(t=u),v=s<d?1:-1,a=t/(h-c)*g.force_coef,n=A(r),l=Math.round(n/u)*v,t=l*u-n*v,Math.round(a*g.time_coef*100)/100,i=Math.abs(Math.ceil((n+t*v)/(u*g.data.length))),o=Math.abs((Math.abs(n+t*v)-i*u*g.data.length)/u),g.value!==o&&(g.value=o,g.name&&(f.el.children('input[name="'+g.name+'"]').val(g.data[o].value),f.el.children('input[name="'+g.name+'"]').trigger("change")),f.el.trigger(OGX.Roulette.CHANGE,g.data[o].value)),r.css({transition:"all 0.2s ease-out",transform:"translate3D(0px, "+(n+t*v)+"px, 0px)"})}):$(document).off(_)}function E(e){e?n=setInterval(w,50):(clearInterval(n),p=0),e?$(document).on(b,function(e){e.preventDefault(),e.stopImmediatePropagation(),e=I(e),p=e}):$(document).off(b)}function w(){var e,t;p&&(e=(t=p.pageY>a?1:-1)!==v?0:p.pageY-a,a=p.pageY,v=t,r.css({transition:"none",transform:"translate3D(0px, "+(A(r)+e)+"px, 0px)"}))}function R(e){e?t=setInterval(X,10):clearInterval(t)}function X(){var e,t,a;(e=Math.floor((r.position().top+u*v)/(u*g.data.length)*-1))!==G&&(0===r.children('.ogx_roulette_stripe[data-id="'+e+'"]').length&&((t=i.clone()).css("top",e*(u*g.data.length)+"px"),t.attr("data-id",e),r.append(t)),r.children(".ogx_roulette_stripe").each(function(e,t){a=r.position().top+$(t).position().top,(Math.ceil(a+u*g.data.length)<-u||u<a)&&$(t).remove()}),G=e)}function N(){g.data.length<2&&(g.data=[{label:"",value:null},{label:"",value:null}]);for(var e='<div class="ogx_roulette_stripes">',t=0;t<2;t++){e+='<div class="ogx_roulette_stripe" style="top:'+t*(g.data.length*u)+'px;" data-id="'+t+'">';for(var a=0;a<g.data.length;a++)e+='<div class="ogx_roulette_block" style="width:'+o+"px; height:"+u+"px; line-height:"+u+'px;"><span class="ogx_roulette_block_label">'+g.data[a].label+"</span></div>";e+="</div>"}e+="</div>",g.name&&(e+='<input type="hidden" name="'+g.name+'" value="'+g.value+'">'),l.html(e),r=l.children(".ogx_roulette_stripes:first"),r.children(".ogx_roulette_stripe:first"),i=(i=r.children(".ogx_roulette_stripe:last")).detach();var n=g.value*u*-1;r.css({transition:"none",transform:"translate3D(0px, "+n+"px, 0px)"})}function A(e){var t=0;return"none"!==e.css("transform")&&(t=Number(e.css("transform").split(",")[5].split(")")[0])),t}function I(e){return e.hasOwnProperty("originalEvent")&&void 0!==e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e}function y(e){for(var t=0;t<g.data.length;t++)if(g.data[t].value===e)return t;return-1}this._NAME_=OGX.Roulette.NAME,this.el=null,this.val=function(e,t){if(void 0===e)return g.data[g.value].value;var a=g.value,n=y(e);-1<n&&(g.value=n),void 0===t&&(t=!0);var l=a-n,o=g.time_coef*Math.abs(l);t?r.css({transition:"all "+o+"s ease-out",transform:"translate3D(0px, "+(A(r)+l*u)+"px, 0px)"}):r.css({transition:"all 0s ease-out",transform:"translate3D(0px, "+(A(r)+l*u)+"px, 0px)"})},this.next=function(){var e=M(1);e&&(this.val(e.value),g.name&&(this.el.children('input[name="'+g.name+'"]').val(g.data[g.value].value),this.el.children('input[name="'+g.name+'"]').trigger("change")),this.el.trigger(OGX.Roulette.CHANGE,g.data[g.value].value))},this.prev=function(){var e=M(-1);e&&(this.val(e.value),g.name&&(this.el.children('input[name="'+g.name+'"]').val(g.data[g.value].value),this.el.children('input[name="'+g.name+'"]').trigger("change")),this.el.trigger(OGX.Roulette.CHANGE,g.data[g.value].value))},this.setData=function(e){g.data=e,setTimeout(N,0)},this.enable=function(){g.enabled||O(g.enabled=!0)},this.disable=function(){g.enabled||O(g.enabled=!1)},this.destroy=function(){D(!1),O(!1),E(!1),R(!1)},function(){for(var e in m)g.hasOwnProperty(e)||(g[e]=m[e]);(l=f.el=$(g.container)).addClass("ogx_roulette"),o=l.width(),u=l.height(),g.value=y(g.value),void 0!==window.ontouchstart&&(x="touchstart",b="touchmove",_="touchend")}(),N(),g.enabled&&O(!0)},OGX.Roulette.NAME="OgxRoulette",OGX.Roulette.CHANGE="RouletteChange";