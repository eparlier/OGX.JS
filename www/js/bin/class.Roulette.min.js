if(void 0===OGX)var OGX=function(){};OGX.Roulette=function(e){"use strict";var l,r,o,s,u,d,a,c,h,v,t,n,i,p,g=this,f=e,m={force_coef:10,time_coef:.1,min_force_pitch:2,value:0,enabled:!0,name:!1,data:[]},x="mousedown",_="mouseup",b="mousemove",G=0;function M(e){return f.value+e>f.data.length-1?f.data[0]:f.value+e<0?f.data[f.data.length-1]:f.data[f.value+e]}function O(e){e?l.on(x,function(e){e.preventDefault(),e.stopImmediatePropagation(),e=A(e),c=(new Date).getTime(),u=e.pageY,a=e.pageY,D(!0),O(!1),E(!0),C(!0)}):l.off(x)}function D(e){var t,a,n,l,o,i;e?$(document).on(_,function(e){e.preventDefault(),e.stopImmediatePropagation(),e=A(e),C(!1),E(!1),D(!1),O(!0),h=(new Date).getTime(),d=e.pageY,t=Math.abs(d-u),s<t&&(t=s),v=u<d?1:-1,a=t/(h-c)*f.force_coef,n=N(r),l=Math.round(n/s)*v,t=l*s-n*v,Math.round(a*f.time_coef*100)/100,i=Math.abs(Math.ceil((n+t*v)/(s*f.data.length))),o=Math.abs((Math.abs(n+t*v)-i*s*f.data.length)/s),f.value!==o&&(f.value=o,f.name&&(g.el.children('input[name="'+f.name+'"]').val(f.data[o].value),g.el.children('input[name="'+f.name+'"]').trigger("change")),g.el.trigger(OGX.Roulette.CHANGE,f.data[o].value)),r.css({transition:"all 0.2s ease-out",transform:"translate3D(0px, "+(n+t*v)+"px, 0px)"})}):$(document).off(_)}function E(e){e?n=setInterval(w,50):(clearInterval(n),p=0),e?$(document).on(b,function(e){e.preventDefault(),e.stopImmediatePropagation(),e=A(e),p=e}):$(document).off(b)}function w(){var e,t;p&&(e=(t=p.pageY>a?1:-1)!==v?0:p.pageY-a,a=p.pageY,v=t,r.css({transition:"none",transform:"translate3D(0px, "+(N(r)+e)+"px, 0px)"}))}function C(e){e?t=setInterval(R,10):clearInterval(t)}function R(){var e,t,a;(e=Math.floor((r.position().top+s*v)/(s*f.data.length)*-1))!==G&&(0===r.children('.ogx_roulette_stripe[data-id="'+e+'"]').length&&((t=i.clone()).css("top",e*(s*f.data.length)+"px"),t.attr("data-id",e),r.append(t)),r.children(".ogx_roulette_stripe").each(function(e,t){a=r.position().top+$(t).position().top,(Math.ceil(a+s*f.data.length)<-s||s<a)&&$(t).remove()}),G=e)}function X(){f.data.length<2&&(f.data=[{label:"",value:null},{label:"",value:null}]);for(var e='<div class="ogx_roulette_stripes">',t=0;t<2;t++){e+='<div class="ogx_roulette_stripe" style="top:'+t*(f.data.length*s)+'px;" data-id="'+t+'">';for(var a=0;a<f.data.length;a++)e+='<div class="ogx_roulette_block" style="width:'+o+"px; height:"+s+"px; line-height:"+s+'px;"><span class="ogx_roulette_block_label">'+f.data[a].label+"</span></div>";e+="</div>"}e+="</div>",f.name&&(e+='<input type="hidden" name="'+f.name+'" value="'+f.data[f.value].value+'">'),l.html(e),r=l.children(".ogx_roulette_stripes:first"),r.children(".ogx_roulette_stripe:first"),i=(i=r.children(".ogx_roulette_stripe:last")).detach();var n=f.value*s*-1;r.css({transition:"none",transform:"translate3D(0px, "+n+"px, 0px)"})}function N(e){var t=0;return"none"!==e.css("transform")&&(t=Number(e.css("transform").split(",")[5].split(")")[0])),t}function A(e){return e.hasOwnProperty("originalEvent")&&void 0!==e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e}function I(e){for(var t=0;t<f.data.length;t++)if(f.data[t].value===e)return t;return-1}this._NAME_=OGX.Roulette.NAME,this.el=null,this.val=function(e,t){if(void 0===e)return f.data[f.value].value;var a=f.value,n=I(e);-1<n&&(f.value=n),void 0===t&&(t=!0);var l=a-n,o=f.time_coef*Math.abs(l);t?r.css({transition:"all "+o+"s ease-out",transform:"translate3D(0px, "+(N(r)+l*s)+"px, 0px)"}):r.css({transition:"all 0s ease-out",transform:"translate3D(0px, "+(N(r)+l*s)+"px, 0px)"})},this.next=function(){var e=M(1);e&&(this.val(e.value),f.name&&(this.el.children('input[name="'+f.name+'"]').val(f.data[f.value].value),this.el.children('input[name="'+f.name+'"]').trigger("change")),this.el.trigger(OGX.Roulette.CHANGE,f.data[f.value].value))},this.prev=function(){var e=M(-1);e&&(this.val(e.value),f.name&&(this.el.children('input[name="'+f.name+'"]').val(f.data[f.value].value),this.el.children('input[name="'+f.name+'"]').trigger("change")),this.el.trigger(OGX.Roulette.CHANGE,f.data[f.value].value))},this.setData=function(e){f.data=e,setTimeout(X,0)},this.enable=function(){f.enabled||(f.enabled=!0,l.removeClass("ogx_roulette_disabled"),O(!0))},this.disable=function(){f.enabled||(f.enabled=!1,l.addClass("ogx_roulette_disabled"),O(!1))},this.destroy=function(){D(!1),O(!1),E(!1),C(!1)},function(){for(var e in m)f.hasOwnProperty(e)||(f[e]=m[e]);(l=g.el=$(f.container)).addClass("ogx_roulette"),o=l.width(),s=l.height(),f.value=I(f.value),void 0!==window.ontouchstart&&(x="touchstart",b="touchmove",_="touchend"),f.enabled||l.addClass("ogx_roulette_disabled")}(),X(),f.enabled&&O(!0)},OGX.Roulette.NAME="OgxRoulette",OGX.Roulette.CHANGE="RouletteChange";