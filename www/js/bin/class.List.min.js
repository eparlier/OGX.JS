if(void 0===OGX)var OGX=function(){};OGX.List=function(){if("undefined"!=typeof moment){var filteringMode="and",filterCount=0;1===arguments.length&&arguments[0]instanceof Array&&(arguments=arguments[0]);var array=Object.create(Array.prototype);for(var method in array=Array.apply(array,arguments)||array,OGX.List.prototype)OGX.List.prototype.hasOwnProperty(method)&&(array[method]=OGX.List.prototype[method]);return array.insert=function(t,r){return array.splice(r,0,t),!0},array.delete=function(t){return!!array.splice(t,1).length},array.findDelete=function(t,r,e){var i=0;void 0===e&&(e=0);for(var s=[],a=0;a<this.length;a++)if(this[a][t]===r){if(s.push(this.splice(a,1)[0]),i++,0<e&&e===i)return s;a--}return s},array.findReplace=function(t,r,e,i){var s=0;void 0===i&&(i=0);for(var a=[],n=0;n<this.length;n++)if(this[n][t]===r&&(a.push(this[n]),s++,this[n]=e,0<i&&i===s))return a;return a},array.findUpdate=function(t,r,e,i,s){var a=0;void 0===i&&(i=!1),void 0===s&&(s=0);for(var n,h=[],o=0;o<this.length;o++)if(this[o][t]===r){for(var f in n=!1,e)i?this[o].hasOwnProperty(f)&&(this[o][f]=e[f],n=!0,a++):(this[o][f]=e[f],n=!0,a++);if(n&&(h.push(this[o]),0<s&&s===a))return h}return h},array.findIndex=function(t,r){var e=!1;r instanceof RegExp&&(e=!0);for(var i=0;i<this.length;i++)if(e){if(this[i][t].match(r))return{index:i}}else if(this[i][t]===r)return{index:i};return!1},array.find=function(t,r,e){var i=0,s=[],a=!1;r instanceof RegExp&&(a=!0),void 0===e&&(e=0);for(var n=0;n<this.length;n++)if(a?this[n][t].match(r)&&(s.push(this[n]),i++):this[n][t]===r&&(s.push(this[n]),i++),0<e&&i===e)return new OGX.List(s);return new OGX.List(s)},array.order=function(t,r){array.sort(dynamicSort(t,r))},array.group=function(t,r,e){for(var i,s={},a=0;a<this.length;a++)(i=extract(this[a],t,r,e))&&(s.hasOwnProperty(i)||(s[i]=[]),s[i].push({item:this[a],pos:a}));return s},array.filters={},array.addFilter=function(t,r,e){this.filters.hasOwnProperty(t)||(this.filters[t]=[]);var i={};return i[r]=e,this.filters[t].push(i),filterCount++,!0},array.removeFilter=function(t){return!!this.filters.hasOwnProperty(t)&&(filterCount-=this.filters[t].length,delete this.filters[t],!0)},array.getFilters=function(){return this.filters},array.resetFilters=function(){this.filters={},filterCount=0},array.setFilters=function(t){for(var r in t)for(var e in t[r])array.addFilter(r,e,t[r][e])},array.setFilteringMode=function(t){filterMode=t},array.get=function(t,r){void 0===r&&(r=0);var e=this.getFilters();this.resetFilters(),this.setFilters(t);var i=this.filter();return this.resetFilters(),this.setFilters(e),i},array.filter=function(){for(var ar=[],isDate,isString,isArray,fnc,hasFilters=!1,reg=/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/g,isMatch=!1,matches=0,str,o,i=0;i<this.length;i++)for(var a in isMatch=!0,matches=0,this.filters){if(str="this["+i+"]."+a,o=eval(str),void 0!==o){hasFilters=!0,isDate=!1,isString=!1,isArray=Array.isArray(o),isArray?"string"==typeof o[0]&&(isString=!0,o[0].match(reg)&&(isDate=!0)):"string"==typeof o&&(isString=!0,o.match(reg)&&(isDate=!0));for(var j=0;j<this.filters[a].length;j++)for(var b in this.filters[a][j]){if(String(this.filters[a][j][b]).length)if("function"===b)isMatch=this.filters[a][j][b](o),isMatch&&matches++;else switch(b){case"eq":isString?o.toLowerCase()!==this.filters[a][j][b].toLowerCase()?isMatch=!1:matches++:o!==this.filters[a][j][b]?isMatch=!1:matches++;break;case"eqjson":JSON.stringify(o)!==JSON.stringify(this.filters[a][j][b])?isMatch=!1:matches++;break;case"neq":isString?o.toLowerCase()===this.filters[a][j][b].toLowerCase()?isMatch=!1:matches++:o===this.filters[a][j][b]?isMatch=!1:matches++;break;case"in":if(Array.isArray(this.filters[a][j][b])){for(var k=0;k<this.filters[a][j][b].length;k++)if(-1===o.indexOf(this.filters[a][j][b][k])){isMatch=!1;break}isMatch&&matches++}else isString?isArray?-1===o.indexOf(this.filters[a][j][b])?isMatch=!1:matches++:-1===o.toLowerCase().indexOf(this.filters[a][j][b].toLowerCase())?isMatch=!1:matches++:-1===o.indexOf(this.filters[a][j][b])?isMatch=!1:matches++;break;case"nin":if(Array.isArray(this.filters[a][j][b])){for(var k=0;k<this.filters[a][j][b].length;k++)if(-1!==o.indexOf(this.filters[a][j][b][k])){isMatch=!1;break}isMatch&&matches++}else isString?-1!==o.toLowerCase().indexOf(this.filters[a][j][b].toLowerCase())?isMatch=!1:matches++:-1!==o.indexOf(this.filters[a][j][b])?isMatch=!1:matches++;break;case"gt":isDate?moment(o).unix()<=moment(this.filters[a][j][b]).unix()?isMatch=!1:matches++:o<=this.filters[a][j][b]?isMatch=!1:matches++;break;case"gte":isDate?moment(o).unix()<moment(this.filters[a][j][b]).unix()?isMatch=!1:matches++:o<this.filters[a][j][b]?isMatch=!1:matches++;break;case"lt":isDate?moment(o).unix()>=moment(this.filters[a][j][b]).unix()?isMatch=!1:matches++:o>=this.filters[a][j][b]?isMatch=!1:matches++;break;case"lte":isDate?moment(o).unix()>moment(this.filters[a][j][b]).unix()?isMatch=!1:matches++:o>this.filters[a][j][b]?isMatch=!0:matches++;break;case"btw":isDate?moment(this.filters[a][j][b][0]).unix()>moment(o).unix()||moment(this.filters[a][j][b][1]).unix()<moment(o).unix()?isMatch=!1:matches++:this.filters[a][j][b][0]>o||this.filters[a][j][b][1]<o?isMatch=!1:matches++;break;case"substr":o.toLowerCase().substr(this.filters[a][j][b][0],this.filters[a][j][b][1]).toLowerCase()!==this.filters[a][j][b][2].toLowerCase()?isMatch=!1:matches++;break;case"regex":o.toString().match(this.filters[a][j][b])?matches++:isMatch=!1}else;if(!isMatch)break}}else isMatch=!1;"or"===filteringMode?isMatch&&ar.push(this[i]):matches===filterCount&&ar.push(this[i])}return hasFilters?OGX.List.apply(null,ar):array},array}function dynamicSort(e,i){return function(t,r){return t[e]<r[e]?-1*i:t[e]>r[e]?i:0}}function extract(t,r,e,i){if(t.hasOwnProperty(r)){var s=t[r];switch(e){case"substr":return s=s.substr(i[0],i[1]);case"numrange":return s=Number(s),Array.isArray(i)?(s=Math.floor(s/i[0]),s="pre"===i[2]?i[1]+s*i[0]+" - "+i[1]+(s+1)*i[0]:s*i[0]+i[1]+" - "+(s+1)*i[0]+i[1]):s=(s=Math.floor(s/i))*i+" - "+(s+1)*i,s;case"date":if(!Array.isArray(i)){if("year"===i)return s=s.substr(0,4);if("month"===i)return s=s.substr(0,7);if("week"===i)return s=s.substr(0,4)+" week "+moment(s).week()}return s=moment(s).unix(),s=Math.floor(s/(60*i[0]*60*24)),s*=60*i[0]*60*24,s=moment(1e3*s).format(i[1])+" - "+moment(1e3*s+1e3*i[0]*60*60*24).format(i[1]);default:return s}return s}return!1}console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000")};